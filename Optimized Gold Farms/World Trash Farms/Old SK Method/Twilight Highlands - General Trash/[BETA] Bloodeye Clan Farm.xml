<HBProfile>

<Name>Bloodeye Clan Farm [$Rev$]</Name>



<MinDurability>0.4</MinDurability>
<MinFreeBagSlots>2</MinFreeBagSlots>

<MailWhite>true</MailWhite>
<MailGreen>true</MailGreen>
<MailBlue>true</MailBlue>
<MailPurple>true</MailPurple>


<QuestOrder>
<!-- Quick Dox. 
		Spells are casted in order of class by:
			CastSpellByID(106785);  - Druid, Swipe.
			CastSpellByID(48721); - Death Knight, Blood Boil.
			CastSpellByID(2643); - Hunter, Multi-Shot.
			CastSpellByID(1449); - Mage, Arcane Explosion.
			CastSpellByID(101546); - Monk, Spinning Crane Kick.
			CastSpellByID(119072); - Paladin, Holy Wrath.
			CastSpellByID(51723); - Rogue, Fan Of Knives.
			CastSpellByID(1949); - Warlock, Hellfire
			CastSpellByID(48045); - Priest, Mind Sear

			CastSpellByID(18499); - Warrior, Berseker Rage
			CastSpellByID(6343); - Warrior, Thunder Clap
			CastSpellByID(845); - Warrior, Cleave
			We can add Heroic Leap, but it will require a in-game click method.  
			If these spells fail to operate properly even after revisions,  Heroic Leap can be added.


			CastSpellByID(3599); - Shaman, Searing Totem
			CastSpellByID(51490); - Shaman, Thunderstorm
			CastSpellByID(1535); - Shaman, Fire Nova
-->

<If Condition="Me.IsAlliance &amp;&amp; !IsQuestCompleted(28248)" >
	<CustomBehavior File="UserDialog" Title="Warning" StopOnContinue="True"
		Text="You have not finished the required quest to run this profile.\n\nIn order for this farm to work, you must complete the quest Victors' Point\n 		Wowhead: http://www.wowhead.com/quest=28248\n\nIf you do not complete this quest, the farmed mobs won't be phased properly.\n\nThis profile will be coded to finish the required quests once it's out of beta."  />
</If>

<If Condition="Me.IsHorde &amp;&amp; !IsQuestCompleted(28249)" >
	<CustomBehavior File="UserDialog" Title="Warning!" StopOnContinue="True"
		Text="You have not finished the required quest to run this profile.\n\nIn order for this farm to work, you must complete the quest Crushblow\n		Wowhead: http://www.wowhead.com/quest=28249\n\nIf you do not complete this quest, the farmed mobs won't be phased properly.\n\nThis profile will be coded to finish the required quests once it's out of beta."  />
</If>

		<While Condition="!(Me.MapId == 530)" >
			<If Condition="Me.IsAlliance" >
			<!-- Outland move to and use portal in shat -->
				<If Condition="Me.MapId == 530" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Stormwind.&quot;);" />
					<CustomBehavior File="FlyTo" X="-248.064" Y="930.2079" Z="84.37978" DestName="BC Portal" />
					<CustomBehavior File="MyCTM" X="-247.1655" Y="897.484" Z="84.3497" />
					<CustomBehavior File="WaitTimer" WaitTime="5000"/>
					<While Condition="Me.MapId == 530" >
						<CustomBehavior File="MyCTM" X="-245.7161" Y="896.1308" Z="84.3497" />
						<CustomBehavior File="WaitTimer" WaitTime="5000"/>
					</While>
					<CustomBehavior File="WaitTimer" WaitTime="10000"/>
				</If>
				<!-- Northrend, go home from borean -->
				<If Condition="Me.MapId == 571" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Stormwind.&quot;);" />
					<If Condition="(HasSpell(54197))">
						<CustomBehavior File="FlyTo" DestName="fly my minions fly" X="2236.118" Y="5145.615" Z="5.346904"  />
					</If>
					<CustomBehavior File="UseTransport" TransportId="190536"    
									WaitAtX="2234.375" WaitAtY="5132.568" WaitAtZ="5.343217" 
									TransportStartX="2218.391" TransportStartY="5119.589" TransportStartZ="0.04" 
									StandOnX="2223.174" StandOnY="5118.869" StandOnZ="9.43335"
									TransportEndX="-8288.816" TransportEndY="1424.703" TransportEndZ="0.04" 
									GetOffX="-8300.08" GetOffY="1405.158" GetOffZ="4.422395" />
				</If>
				<!-- Kalimdor boat from Ratchet. -->
				<If Condition="Me.MapId == 1" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Stormwind.&quot;);" />
					<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
					</If>
					<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
					</If>
					<CustomBehavior File="UseTransport" TransportId="20808"
									WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
									TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
									StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
									TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
									GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
				</If>
				<!-- Deepholm, Taking portal. -->
				<If Condition="Me.MapId == 646" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Stormwind.&quot;);" />
					<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
					<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
					<RunTo X="973.6232" Y="570.9096" Z="-46.0024" />
					<CustomBehavior File="InteractWith" MobId="205272" Range="4" X="973.6232" Y="570.9096" Z="-46.0024" />
					<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
				</If>
				<!-- Pandaland, Taking portal. -->
				<If Condition="Me.MapId == 870" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Stormwind.&quot;);" />
					<CustomBehavior File="FlyTo" X="-311.6545" Y="-1776.63" Z="62.67051" />
					<RunTo X="-311.6545" Y="-1776.63" Z="62.67051" />
					<CustomBehavior File="InteractWith" MobId="210805" Range="4" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
				</If>
				<!-- Homeland, Ally Eastern Kingdom -->
				<If Condition="Me.MapId == 0" >

					<If condition="false"><!-- If Set true will go to Northrend -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Northerend.&quot;);" />
					
					<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<CustomBehavior File="FlyTo" X="-8300.08" Y="1405.158" Z="4.422395" />
					</If>
					<CustomBehavior File="UseTransport" TransportId="190536" 
									WaitAtX="-8300.08" WaitAtY="1405.158" WaitAtZ="4.422395"
									GetOffX="2234.375" GetOffY="5132.568" GetOffZ="5.343217"
									StandOnX="-8293.091" StandOnY="1421.008" StandOnZ="9.480089"
									TransportStartX="-8288.816" TransportStartY="1424.703" TransportStartZ="0.04" 
									TransportEndX="2218.391" TransportEndY="5119.589" TransportEndZ="0.04" />	
					<CustomBehavior File="WaitTimer" WaitTime="5000" />
					</If>
					
					<If condition="false"><!-- If Set true will go to Outland -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Outland.&quot;);" />
					
					<While Condition="Me.MapId == 0" >
						<If Condition="Me.MapId == 0" >
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
								</If>
								<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</If>
							<If Condition="Me.MapId == 0" >
								<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
								<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
							<If Condition="Me.MapId == 0" >
								<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
					</While>
					</If>
					
					<If condition="false"> <!-- If Set true will go to Kalimdor -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
					
					<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<CustomBehavior File="FlyTo" X="-14288.29" Y="549.3284" Z="8.689642" />
					</If>
					<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<Runto X="-14288.29" Y="549.3284" Z="8.689642" />
					</If>
					<CustomBehavior File="ForcedDismount" />
					<!-- BB dock to Ratchet -->
					<CustomBehavior File="UseTransport" TransportId="20808"
									WaitAtX="-14280.88" WaitAtY="566.6268" WaitAtZ="6.979454" 
									TransportStartX="-14277.75" TransportStartY="582.8661" TransportStartZ="0.01553879"
									StandOnX="-14270.46" StandOnY="579.9881" StandOnZ="6.088587"
									TransportEndX="-1005.613" TransportEndY="-3841.648" TransportEndZ="0.03330701"
									GetOffX="-996.8669" GetOffY="-3826.07" GetOffZ="5.536246" />
					</If>
					
					<If condition="false"><!-- If Set true will go to Pandaland -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Pandaria.&quot;);" />
					
					<CustomBehavior File="FlyTo" X="-8200.323" Y="527.858" Z="116.7516"  />
					<CustomBehavior File="InteractWith" MobId="215457" Range="4" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
					<!-- Going to Pandaland Stop -->
					</If>	
					
					<!-- No profiles in deepholm-->
						
				</If>
			</If>
			<!-- Horde part -->
			<If Condition="Me.IsHorde" >
				<!-- Outland move to and use portal in shat -->
				<If Condition="Me.MapId == 530" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
					<While Condition="Me.MapId == 530" >
						<CustomBehavior File="FlyTo" DestName="Org portal" X="-1956.413" Y="5383.551" Z="-12.42774" />
						<CustomBehavior File="ForcedDismount" />

						<RunTo X="-1898.169" Y="5395.958" Z="-12.42774" />
						<CustomBehavior File="InteractWith" MobId="183323" Range="4" />
						<CustomBehavior File="WaitTimer" WaitTime="15000" GoalText="Waiting for zone {TimeRemaining}" />
					</While>
					<RunTo X="1896.122" Y="-4489.93" Z="23.84045" />
					<CustomBehavior File="FlyTo" X="1882.573" Y="-4548.733" Z="110.4602" />
				</If>
				<!-- Northrend, go home from borean -->
				<If Condition="Me.MapId == 571" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
					<If Condition="(HasSpell(54197))">
						<CustomBehavior File="FlyTo" DestName="Borean Tundra" X="2708.396" Y="6066.991" Z="109.617" />
						<CustomBehavior File="FlyTo" DestName="Warsong Hold, BT" X="2740.837" Y="6097.529" Z="76.88604" />
					</If>
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Returning to Borean Zeppelin to Orgrimmar.&quot;);" />
					<RunTo X="2829.74" Y="6179.48" Z="121.9793" />
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Waiting for Borean Zeppelin to Orgrimmar.&quot;);" />
					<CustomBehavior File="UseTransport" TransportId="186238"
									WaitAtX="2836.831" WaitAtY="6185.15" WaitAtZ="121.9923" 
									TransportStartX="2837.908" TransportStartY="6187.443" TransportStartZ="140.1648" 
									StandOnX="2844.171" StandOnY="6191.577" StandOnZ="122.3017" 
									TransportEndX="1775.066" TransportEndY="-4299.745" TransportEndZ="151.0326" 
									GetOffX="1763.203" GetOffY="-4284.529" GetOffZ="133.1072" />
				</If>
				<!-- From Eastern Kingdom going home -->
				<If Condition="Me.MapId == 0" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
					<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<CustomBehavior File="FlyTo" X="2039.925" Y="273.7229" Z="142.3792" />
						<CustomBehavior File="FlyTo" X="2067.174" Y="284.9927" Z="97.03151" />
					</If>
					<RunTo X="2070.155" Y="289.2588" Z="97.0315" />
					<CustomBehavior File="UseTransport"
									TransportId="164871"
									WaitAtX="2070.155" WaitAtY="289.2588" WaitAtZ="97.0315" 
									TransportStartX="2062.376" TransportStartY="292.998" TransportStartZ="114.973"
									TransportEndX="1833.509" TransportEndY="-4391.543" TransportEndZ="152.7679"
									StandOnX="2067.979" StandOnY="295.2747" StandOnZ="97.23677" 
									GetOffX="1840.225" GetOffY="-4390.912" GetOffZ="135.2337" />
				</If>
				<!-- Deepholm, Taking portal. -->
				<If Condition="Me.MapId == 646" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
					<CustomBehavior File="FlyTo" X="846.4727" Y="483.7805" Z="-19.13363" />
					<CustomBehavior File="FlyTo" X="918.0795" Y="503.5825" Z="-49.25048" />
					<RunTo X="990.1199" Y="457.7099" Z="-44.2598" />
					<CustomBehavior File="InteractWith" MobId="205273" Range="4" X="990.1199" Y="457.7099" Z="-44.2598" />
					<CustomBehavior File="WaitTimer" WaitTime="8000" GoalText="Waiting for port {TimeRemaining}" />
				</If>
				<!-- Pandaland, Taking portal. -->
				<If Condition="Me.MapId == 870" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Kalimdor.&quot;);" />
				
					<CustomBehavior File="FlyTo" X="2924.921" Y="-510.5903" Z="268.8555" />
					<RunTo X="2924.921" Y="-510.5903" Z="268.8555" />
					<CustomBehavior File="InteractWith" MobId="210804" Range="4" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
				</If>
				<!-- Homeland, Horde Kalimdor -->
				<If Condition="Me.MapId == 1" >

					<If condition="false"><!-- If Set true will go to Northrend -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Northerend.&quot;);" />
					
						<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
							<CustomBehavior File="FlyTo" X="1736.402" Y="-4283.072" Z="190.7621" />
							<CustomBehavior File="FlyTo" X="1754.089" Y="-4278.742" Z="133.0416" />
							<CustomBehavior File="ForcedDismount" />
						</If>
						<RunTo X="1763.389" Y="-4283.858" Z="133.1073" />
						
						<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Waiting on Zeppelin.&quot;);" />
				
						<CustomBehavior File="UseTransport" TransportId="186238"
										WaitAtX="1763.066" WaitAtY="-4284.396" WaitAtZ="133.1081" 
										TransportStartX="1775.066" TransportStartY="-4299.745" TransportStartZ="151.0326" 
										StandOnX="1770.22" StandOnY="-4292.056" StandOnZ="133.1872" 
										TransportEndX="2837.908" TransportEndY="6187.443" TransportEndZ="140.1648" 
										GetOffX="2836.831" GetOffY="6185.15" GetOffZ="121.9923" />
						<RunTo X="2740.837" Y="6097.529" Z="76.88604" />
					</If>
					
					<If condition="false"><!-- If Set true will go to Outland -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Outlands.&quot;);" />
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going by boat in Ratchet.&quot;);" />
					
					<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<CustomBehavior File="FlyTo" X="-996.8669" Y="-3826.07" Z="5.536246" />
					</If>
					<If Condition="!SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
						<RunTo X="-996.8669" Y="-3826.07" Z="5.536246" />
					</If>
					<CustomBehavior File="UseTransport" TransportId="20808"
									WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
									TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
									StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
									TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
									GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454" />
									<!-- Should now be in Eastern Kingdom -->
						<While Condition="Me.MapId == 0" >
							<If Condition="Me.MapId == 0" >
								<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
									<CustomBehavior File="FlyTo" X="-11895.44" Y="-3206.936" Z="-14.64132" />
								</If>
								<RunTo X="-11895.44" Y="-3206.936" Z="-14.64132" />
								<CustomBehavior File="WaitTimer" WaitTime="1000" />
							</If>
							<If Condition="Me.MapId == 0" >
								<CustomBehavior File="MyCTM" X="-11908.09" Y="-3208.854" Z="-14.83002" />
								<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
							<If Condition="Me.MapId == 0" >
								<CustomBehavior File="WaitTimer" WaitTime="5000" />
							</If>
						</While>
					</If>
					
					<If condition="true"><!-- If Set true will go to Eastern Kingdom -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going toEastern Kingdoms.&quot;);" />
					
						<If Condition="SpellManager.HasSpell(&quot;Flight Master's License&quot;)">
							<CustomBehavior File="FlyTo" X="1836.794" Y="-4383.654" Z="206.7829" />
							<CustomBehavior File="FlyTo" X="1848.44" Y="-4398.829" Z="135.1602" />
							<CustomBehavior File="ForcedDismount" />
						</If>
						<RunTo X="1840.468" Y="-4392.099" Z="135.2326" />
						<CustomBehavior File="UseTransport" TransportId="164871"
										WaitAtX="1838.676" WaitAtY="-4387.965" WaitAtZ="135.2332"
										TransportStartX="1833.509" TransportStartY="-4391.543" TransportStartZ="152.7679"
										TransportEndX="2062.376" TransportEndY="292.998" TransportEndZ="114.973"
										StandOnX="1834.961" StandOnY="-4385.694" StandOnZ="135.0334" 
										GetOffX="2066.773" GetOffY="288.873" GetOffZ="97.03159" />
					</If>
					
					<If condition="false"><!-- If Set true will go to Pandaland -->
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Going to Pandaria.&quot;);" />
					
						<CustomBehavior File="FlyTo" X="2012.948" Y="-4698.641" Z="28.60529" />
						<CustomBehavior File="InteractWith" MobId="215424" Range="4" />
						<CustomBehavior File="WaitTimer" WaitTime="5000" GoalText="Waiting for zone {TimeRemaining}" />
						
					</If>	
					
					<!-- No profiles in deepholm-->
						
				</If>
			</If>
		</While>
		<!-- 
		End transport script credit to Bengan. 
		With use of Kicks go to profiles.
		Big thanks to Kick for this.
		--> 

<While Condition="true" > <!-- Endless Loop -->
	<!-- Scan Location for Hubs 1 and 2 -->
	<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Moving to scan location #1.&quot;);" />
	<CustomBehavior File="FlyTo" X="-4581.244" Y="-4609.306" Z="225.9992" />
	<!-- -->

	<!-- /////// Hub 1, two clusters on the hill. /////// -->
			<!-- Cluster 1 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#1 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4639.058" Y="-4629.555" Z="194.6954" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4632.77" Y="-4663.423" Z="207.2979" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4635.18" Y="-4654.681" Z="196.3606" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1500" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4637.447, -4624.772, 194.1707)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4637.447" Y="-4624.772" Z="194.1707" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>

			<!-- Cluster 2 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#2 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4610.599" Y="-4572.217" Z="196.1295" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4622.756" Y="-4547.519" Z="197.4165" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4620.54" Y="-4552.927" Z="200.1281" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1500" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4612.277, -4576.302, 196.2079)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4612.277" Y="-4576.302" Z="196.2079" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>
	<!-- /////// END - Hub 1 /////// -->

	<!-- /////// Hub 2, two clusters at the base of the hill. /////// -->
			<!-- Cluster 1 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#2 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4565.172" Y="-4632.403" Z="175.8901" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4532.821" Y="-4654.703" Z="181.4173" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4540.692" Y="-4647.915" Z="174.1185" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4565.515, -4630.597, 175.736)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4565.515" Y="-4630.597" Z="175.736" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>

			<!-- Cluster 2 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#2 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4536.534" Y="-4577.62" Z="200.774" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4550.328" Y="-4554.655" Z="188.6919" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4546.361" Y="-4561.54" Z="192.4626" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1500" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4536.866, -4576.875, 187.2894)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4536.866" Y="-4576.875" Z="187.2894" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>
	<!-- /////// END - Hub 2 /////// -->


	<!-- Scan Location for Hubs 2 and 3 -->
	<CustomBehavior File="Message" Text="Moving to scan location #2." LogColor="Yellow" />
	<CustomBehavior File="Flyto" X="-4451.577" Y="-4566.603" Z="217.7124" />
	<!-- -->

	<!-- /////// Hub 3, three clusters heading north through the courtyard (skipping smaller clusters). /////// -->
			<!-- Cluster 1 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#2 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4480.709" Y="-4601.059" Z="194.4558" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4494.913" Y="-4573.371" Z="193.6195" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4491.184" Y="-4581.362" Z="184.1025" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4480.709, -4601.059, 181.7962)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4480.709" Y="-4601.059" Z="181.7962" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>

			<!-- Cluster 2 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#2 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4440.723" Y="-4545.675" Z="199.1014" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4457.331" Y="-4518.621" Z="195.2074" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4452.557" Y="-4525.19" Z="194.5746" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4441.14, -4541.886, 192.2758)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4441.14" Y="-4541.886" Z="192.2758" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>

			<!-- Cluster 3 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#3 Cluster#3.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4377.859" Y="-4539.429" Z="195.5084" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4390.763" Y="-4510.926" Z="189.9458" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4387.104" Y="-4517.157" Z="194.1949" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4379.199, -4538.698, 188.007)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4379.199" Y="-4538.698" Z="188.007" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>
	<!-- ////// END - Hub 3 /////// -->


	<!-- /////// Hub 4, small group outside of area. /////// -->
			<!-- Cluster 1 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#4 Cluster#1.&quot;)" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4473.215" Y="-4689.218" Z="166.9963" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4491.759" Y="-4644.506" Z="180.1254" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4487.284" Y="-4653.365" Z="175.2867" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4458.124, -4675.458, 174.899)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="40" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4458.124" Y="-4675.458" Z="174.899" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>
	<!-- ////// END - Hub 4 /////// -->

	<!-- Scan Location for Hubs 1 and 5 -->
	<CustomBehavior File="Message" Text="Moving to scan location #3." LogColor="Yellow" />
	<CustomBehavior File="Flyto" X="-4682.599" Y="-4724.67" Z="219.8802" />
	<!-- -->

	<!-- ////// Hub 5, groups North West of the hill -->
			<!-- Cluster 1 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#5 Cluster#1.&quot;);" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4673.779" Y="-4682.79" Z="196.6344" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4651.644" Y="-4677.234" Z="196.529" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4657.247" Y="-4679.349" Z="196.6107" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4673.755, -4681.11, 195.1836)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4673.755" Y="-4681.11" Z="195.1836" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>

			<!-- Cluser 2 -->
			<If Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs detected in Hub#5 Cluster#2.&quot;);" />
				<If Condition="!(Me.Class == WoWClass.Hunter) || !(Me.Class == WoWClass.Priest)" >
					<CustomBehavior	File="FlyTo" X="-4720.208" Y="-4729.96" Z="184.7085" /> <!-- Close-range AoE. -->
					<DisableBehavior Name="Combat" />
					<CustomBehavior	File="RunMacro" Macro="/dismount" />
				<Else>
					<CustomBehavior File="FlyTo" X="-4699.472" Y="-4730.54" Z="180.8574" /> <!-- Far-range AoE. -->
					<CustomBehavior File="ForcedDismount" />
					<RunTo X="-4706.975" Y="-4729.237" Z="181.931" /> <!-- Alignment -->
					<CustomBehavior File="RunMacro" Macro="/targetenemy" />
				</Else>
				</If>
				<If Condition="(Me.Class == WoWClass.Druid) &amp;&amp; !Me.HasAura(768)" >
					<CustomBehavior	File="Misc\RunLua" Lua="CastSpellByID(768)" /> <!-- Enter Cat Form -->
					<CustomBehavior File="WaitTimer" WaitTime="1650" /> <!-- Lag for the GCD. -->
				</If>
				<CustomBehavior	File="Misc\RunLua" NumOfTimes="2" WaitTime="1650" Lua="
					CastSpellByID(106785); 
					CastSpellByID(48721); 
					CastSpellByID(2643); 
					CastSpellByID(1449); 
					CastSpellByID(101546);
					CastSpellByID(119072);
					CastSpellByID(51723); 
					CastSpellByID(1949); 
					CastSpellByID(48045);

					CastSpellByID(18499);
					CastSpellByID(6343);
					CastSpellByID(845);

					CastSpellByID(3599); 
					CastSpellByID(51490); 
					CastSpellByID(1535);

				" />
				<CustomBehavior File="RunMacro" Macro="/stopcasting [channeling]" />
				<While Condition="(Object(45795, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45838, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null) || (Object(45787, o => o.Location.Distance(new WoWPoint(-4720.208, -4729.96, 184.7085)) &lt;= 15 &amp;&amp; o.ToUnit().IsAlive) != null )" >
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Mobs still alive in cluster, hunting them down.&quot;);" />
					<CustomBehavior File="InteractWith" WaitForNpcs="false" CollectionDistance="25" MobState="Alive" MobId1="45795" MobId2="45838" MobId3="45787" X="-4720.208" Y="-4729.96" Z="184.7085" />
				</While>
				<EnableBehavior Name="Combat" />
			</If>
	<!-- ////// END - Hub 5 /////// -->
</While>

</QuestOrder>
</HBProfile>