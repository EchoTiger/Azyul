<HBProfile>
	<Name>[Run All]Northerend -  Randomizer - Beta Profiles - Lite Pulls [$Rev$]</Name>
	<MinFreeBagSlots>-1</MinFreeBagSlots>
	///////////////////////////////////////////////////////////////////////
	// Profile Developer: EchoTiger
	// Farm zone: Randomized Northerend Dungeons
	// Farm mobs: Variety
	///////////////////////////////////////////////////////////////////////

	
	

	<MailGrey>False</MailGrey>
	<MailWhite>True</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>True</MailPurple>

	<SellGrey>True</SellGrey>
	<SellWhite>True</SellWhite>
	<SellGreen>True</SellGreen>
	<SellBlue>True</SellBlue>
	<SellPurple>False</SellPurple>

	//Protected Items list, can add to these as you see fit, if you are looking for specific items.
	<ProtectedItems>
		<Item Name="Book of Glyph Mastery" Entry="45912"/>
	</ProtectedItems>
	
	<Vendors>
	</Vendors>

	<Mailboxes>
	</Mailboxes>

	<AvoidMobs>
		<Mob Name="Summon Enabler Stalker" Entry="53488" />
		<Mob Name="Ionar Invis Stalker" Entry="28947" />
	</AvoidMobs>


	<Blackspots>
		<Blackspot X="8724.726" Y="-735.7791" Z="919.3344" Radius="107.7323" Height="23.22327" /> <!-- Bridge in Stormpeaks -->
	</Blackspots>
	
	<Blacklist>
	   <Mob Name="Drakkari Frenzy" Id="29834" Flags="Pull,Combat" />
	   <Mob Name="Small Frog" Id="13321" Flags="Pull,Combat" /> 
	</Blacklist>

	<QuestOrder>
		<If Condition="(Me.MapId == 600)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<RunTo X="-515.2283" Y="-500.0652" Z="11.0231"  />
			<CustomBehavior File="MyCTM" X="-525.4516" Y="-474.7986" Z="10.98291" TerminateWhen="Me.MapId != 600" />
		</If>
		<If Condition="(Me.MapId == 604)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<MoveTo X="1889.699" Y="643.147" Z="176.6776" />
			<CustomBehavior File="MyCTM" X="1897.259" Y="657.8406" Z="176.6371" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>
		<If Condition="(Me.MapId == 576)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<MoveTo X="146.1775" Y="-5.935885" Z="-16.6367" />
			<CustomBehavior File="MyCTM" X="145.8862" Y="-16.48927" Z="-16.63667" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>
		<If Condition="(Me.MapId == 602)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<RunTo X="1331.879" Y="247.3523" Z="52.58322" />  
			<CustomBehavior File="MyCTM" X="1330.933" Y="276.6876" Z="53.39822" /> 
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>
		<If Condition="(Me.MapId == 658)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<RunTo X="436.2414" Y="211.0046" Z="528.7086" />
			<CustomBehavior File="MyCTM" X="425.3003" Y="212.2813" Z="529.9125" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>
		<If Condition="(Me.MapId == 574)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<MoveTo X="186.7376" Y="-75.69962" Z="16.87691" />
			<CustomBehavior File="MyCTM" X="146.4876" Y="-88.77183" Z="12.55122" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>
		<If Condition="(Me.MapId == 619)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Red, &quot;Bot started inside of instance. Moving out.&quot;);" />
			<MoveTo X="339.9675" Y="-1105.186" Z="63.50312" />
			<CustomBehavior File="MyCTM" X="332.6724" Y="-1110.448" Z="69.77464" />
			<CustomBehavior File="WaitTimer" WaitTime="15000" />
		</If>



<CustomBehavior File="LoadRemoteCode"/>
<CustomBehavior File="RemoteCode" CodeUrl="https://raw.githubusercontent.com/EchoTiger/UNS-Raw/master/AzyulSnips/statter.xml"/>


<CustomBehavior File="RemoteCode" CodeUrl="https://raw.githubusercontent.com/Pookthetook/AzyulBotBase/master/Navigation/ToNorthrend.xml"/>

	<CustomBehavior File="UserSettings" LootMobs="True" PullDistance="25" />				
	<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />
	<CustomBehavior File="RunMacro" Macro="/script ResetInstances();" />

	<!-- Declare movement buff and defensive hooks -->
	<If Condition="Me.Class == WoWClass.Mage" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; (!WoWSpell.FromId(11426).Cooldown &amp;&amp; Me.KnowsSpell(11426))" > <!-- (!WoWSpell.FromId(1953).Cooldown) ||  -->
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(11426);" />
		</CustomBehavior>
	</If>
	<If Condition="Me.Class == WoWClass.Priest" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive)	&amp;&amp; ((!WoWSpell.FromId(139).Cooldown &amp;&amp; !Me.HasAura(139)) || (!WoWSpell.FromId(17).Cooldown &amp;&amp; !Me.HasAura(17) &amp;&amp; Me.KnowsSpell(17) &amp;&amp; !Me.HasAura(6788)))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(139); CastSpellByID(17);" />
		</CustomBehavior>
	</If>
	<!-- <If Condition="Me.Class == WoWClass.Warlock" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving)" >
		</CustomBehavior>
	</If> May use Burning Rush here -->
	<If Condition="Me.Class == WoWClass.Druid" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; ((Me.HasAura(768) &amp;&amp; !WoWSpell.FromId(1850).Cooldown) || (Me.HealthPercent &lt;= 20 &amp;&amp; !WoWSpell.FromId(22812).Cooldown))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<If Condition="Me.HealthPercent &lt;= 20" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(22812);" />
			</If>
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(1850);" />
		</CustomBehavior>
	</If>
	<If Condition="Me.Class == WoWClass.Rogue" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; ((!WoWSpell.FromId(2983).Cooldown) || (Me.HealthPercent &lt;= 20 &amp;&amp; !WoWSpell.FromId(5277).Cooldown))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<If Condition="Me.HealthPercent &lt;= 20" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(5277);" />
			</If>
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(2983);" />
		</CustomBehavior>
	</If>
	<If Condition="Me.Class == WoWClass.Monk" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; (Me.HealthPercent &lt;= 70 &amp;&amp; !WoWSpell.FromId(115072).Cooldown)" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(115072);" />
		</CustomBehavior>
	</If>
	<If Condition="Me.Class == WoWClass.Hunter" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; ((!WoWSpell.FromId(13809).Cooldown) || (Me.HealthPercent &lt;= 30 &amp;&amp; !WoWSpell.FromId(19263).Cooldown))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<If Condition="Me.HealthPercent &lt;= 30" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(19263);" />
			</If>
			<If Condition="Me.HasAura(77769)" >
				<CustomBehavior File="Misc\RunLua" Lua="CancelUnitBuff(&quot;player&quot;,&quot;Trap Launcher&quot;);" />
			</If>
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(13809);" />
		</CustomBehavior>
	</If>
	<If Condition="Me.Class == WoWClass.Shaman" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; (!Me.HasAura(2645))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(2645);" />
		</CustomBehavior>
	</If>
	<!-- <If Condition="Me.Class == WoWClass.DeathKnight" >
	</If> Hmm.... -->
	<!-- <If Condition="Me.Class == WoWClass.Warrior" >
	</If>  Perhaps use of Enraged healing. -->
	<If Condition="Me.Class == WoWClass.Paladin" >
		<CustomBehavior File="Hooks\DoWhen" ActivityName="MoveDefHook" AllowUseDuringCombat="True" UseWhen="(Me.Combat &amp;&amp; Me.IsMoving &amp;&amp; Me.IsInInstance &amp;&amp; Me.IsAlive) &amp;&amp; ((!WoWSpell.FromId(20271).Cooldown &amp;&amp; Me.KnowsSpell(87172)) || (Me.HealthPercent &lt;= 10 &amp;&amp; !WoWSpell.FromId(633).Cooldown))" >
			<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;Attempting use of passive defensive maneuvers.&quot;);" />
			<If Condition="Me.HealthPercent &lt;= 10" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(633);" />
			</If>
			<If Condition="!WoWSpell.FromId(20271).Cooldown &amp;&amp; Me.KnowsSpell(87172)" >
				<CustomBehavior File="Misc\RunLua" Lua="TargetNearestEnemy(); CastSpellByID(20271);" />
			</If>
		</CustomBehavior>
	</If>
<!-- END Declare movement buff hooks -->

<While Condition="true" >


		<If Condition="Chance(14.3)"> <!-- Drak'Tharon -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Drak'Tharon.&quot;);" />
			<If Condition="!(Me.MapId == 600) &amp;&amp; (Me.FreeBagSlots &gt;= 17)" >
				<If Condition="Me.Location.Distance(new WoWPoint(4893.181, -2042.959, 248.309 )) &lt;= 20" > <!-- If we just used Traveler's Mammoth -->
					<CustomBehavior File="MyCTM" X="4872.786" Y="-2032.948" Z="250.0702" />
					<CustomBehavior File="MyCTM" X="4824.002" Y="-2037.679" Z="250.1376" />
					<CustomBehavior File="MyCTM" X="4772.893" Y="-2036.125" Z="229.3822" />
				</If>
				<If Condition="Me.Location.Distance(new WoWPoint(4775.771, -2045.906, 229.4198)) &gt;= 150" >
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Heading to Instance.&quot;);" />
					<CustomBehavior File="FlyTo" X="4922.837" Y="-2046.354" Z="279.7324" />
					<CustomBehavior File="MyCTM"  X="4868.813" Y="-2034.23" Z="250.0712" />
					<CustomBehavior File="MyCTM" X="4815.126" Y="-2040.735" Z="245.4605" />
					<MoveTo X="4775.389" Y="-2034.485" Z="229.3875" />
				</If>
				<Else>
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Profile started with full bags.&quot;);" />
				</Else>
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)" >
				<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />
				<If Condition="!(Me.MapId == 600)" >
					<RunTo X="4774.621" Y="-2029.685" Z="229.3802" />
					<CustomBehavior File="MyCTM" X="4774.691" Y="-2015.088" Z="229.3516" TerminateWhen="Me.MapId == 600" />
				</If>
				<If Condition="(Me.MapId == 600)" >
					<DisableBehavior Name="Combat" /> <!-- Avoid spiders on second level -->

					<CustomBehavior File="RunMacro" Macro="/sw clear" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw play" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

	 				<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
				    <RunTo X="-515.2283" Y="-500.0652" Z="11.0231"  />
				    <RunTo X="-508.0701" Y="-514.1385" Z="11.0453"  />
				    <RunTo X="-537.1221" Y="-551.0976" Z="2.2656"  />

				    
				    <EnableBehavior Name="Combat" />
					    <RunTo X="-537.1692" Y="-578.1137" Z="1.9140"  />
					    <RunTo X="-544.5040" Y="-579.6451" Z="1.0251"  />
					    <RunTo X="-517.4600" Y="-599.9984" Z="1.0250"  />
					    <RunTo X="-483.5866" Y="-606.0858" Z="1.4814"  />
					    <RunTo X="-469.5986" Y="-599.4240" Z="1.6413"  />
					    <RunTo X="-413.5121" Y="-603.0125" Z="1.0249"  />
					    <RunTo X="-384.3532" Y="-602.3880" Z="1.0249"  />
					    <RunTo X="-363.6618" Y="-608.0938" Z="2.2632"  />
						<RunTo X="-322.1031" Y="-647.5912" Z="10.9239"  />
						<RunTo X="-325.0045" Y="-658.7132" Z="10.3809"  />
					    <RunTo X="-324.2822" Y="-671.5656" Z="10.9238"  />
					    <RunTo X="-300.2212" Y="-667.8179" Z="10.9238"  />
					    <RunTo X="-278.3122" Y="-658.3167" Z="18.9390"  />
					    <RunTo X="-268.0731" Y="-659.5375" Z="26.5084"  />
					<EnableBehavior Name="Combat" />

				    <MoveTo X="-260.1227" Y="-679.8981" Z="26.52317" />

				    
				    <DisableBehavior Name="Combat" />
				    	<RunTo X="-257.2279" Y="-712.0146" Z="27.1521" />
						<RunTo X="-245.5512" Y="-723.813" Z="27.37361" />
				    <EnableBehavior Name="Combat" />
					//
	
					<DisableBehavior Name="Combat" />
						<RunTo X="-289.179" Y="-728.0784" Z="27.29649" />
						<RunTo X="-279.2386" Y="-711.1038" Z="27.29188" />
				    <EnableBehavior Name="Combat" />
				    
				    <RunTo X="-292.9587" Y="-716.4481" Z="27.53353" />
				    <MoveTo X="-338.6151" Y="-720.4265" Z="28.57711" />
				    <CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: This boss isn't worth it.&quot;);" />
				    <CustomBehavior File="MyCTM" X="-393.7734" Y="-721.4113" Z="28.59065" />
				    <CustomBehavior File="MyCTM" X="-409.0117" Y="-729.8685" Z="28.58064" />

				    <MoveTo X="-424.5214" Y="-695.5582" Z="28.57602" />

				    
				    <DisableBehavior Name="Combat" />
						<RunTo X="-402.5685" Y="-670.2057" Z="26.64206" />
						<RunTo X="-454.369" Y="-652.0738" Z="28.42467" />
					<EnableBehavior Name="Combat" />

				    
				    <DisableBehavior Name="Combat" /> //
						<RunTo X="-501.23" Y="-651.8302" Z="30.22856" />
						<RunTo X="-497.2484" Y="-718.712" Z="30.24763" />
						<RunTo X="-512.645" Y="-725.9342" Z="30.24763" />
				    <EnableBehavior Name="Combat" />
				    //
				    
					<DisableBehavior Name="Combat" />
						<RunTo X="-536.3608" Y="-718.7067" Z="30.24651" />
						<RunTo X="-544.3643" Y="-704.096" Z="30.2448" />
						<RunTo X="-554.3542" Y="-689.1397" Z="30.70627" />
					<EnableBehavior Name="Combat" />

				    
					<DisableBehavior Name="Combat" /> //
						<RunTo X="-543.3079" Y="-670.9773" Z="30.34695" />
						<RunTo X="-531.3521" Y="-660.9335" Z="30.28404" />
						<RunTo X="-530.1593" Y="-697.5297" Z="30.24668" />
				    <EnableBehavior Name="Combat" />

					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="Misc\RunLua" Lua="if not IsMounted() then local m,t,f=&quot;mount&quot;,{{},{}} for i=2,GetNumCompanions(m) do tinsert(t[bit.band(2,select(6,GetCompanionInfo(m,i)))==0 and 1 or 2],i) end f=IsFlyableArea() and 2 or 1 CallCompanion(m,t[f][random(#t[f])]) else Dismount() end" />
					<CustomBehavior File="WaitTimer" WaitTime="1500" />

				    <MoveTo X="-508.7027" Y="-727.5312" Z="30.24722" />
				    <MoveTo X="-487.2624" Y="-709.7524" Z="30.24722" />
				    <MoveTo X="-472.4294" Y="-631.804" Z="72.60222" />

				    <DisableBehavior Name="Combat" />
						<RunTo X="-447.0287" Y="-603.547" Z="72.60651" />
						<RunTo X="-416.5739" Y="-595.7975" Z="72.60668" />
						<RunTo X="-405.4579" Y="-608.7828" Z="72.60668" />
					<EnableBehavior Name="Combat" />

				    
				    <DisableBehavior Name="Combat" /> //
						<RunTo X="-345.2475" Y="-611.0251" Z="72.60713" />
						<RunTo X="-342.2566" Y="-592.2085" Z="72.60779" />
						<RunTo X="-305.9066" Y="-612.2153" Z="72.59185" />
				    <EnableBehavior Name="Combat" />

					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="Misc\RunLua" Lua="if not IsMounted() then local m,t,f=&quot;mount&quot;,{{},{}} for i=2,GetNumCompanions(m) do tinsert(t[bit.band(2,select(6,GetCompanionInfo(m,i)))==0 and 1 or 2],i) end f=IsFlyableArea() and 2 or 1 CallCompanion(m,t[f][random(#t[f])]) else Dismount() end" />
					<CustomBehavior File="WaitTimer" WaitTime="1500" />

				    <DisableBehavior Name="Combat" />
						<RunTo X="-288.0025" Y="-699.2864" Z="101.7704" />
						<RunTo X="-274.4177" Y="-728.6484" Z="101.7957" />
						<RunTo X="-268.0679" Y="-726.1499" Z="102.7696" />
				    <EnableBehavior Name="Combat" />

				    <MoveTo X="-245.4132" Y="-730.9987" Z="116.4721" />
				    <MoveTo X="-237.274" Y="-698.6867" Z="131.1712" />
				    <MoveTo X="-236.8188" Y="-676.8137" Z="131.8641" />
				    <MoveTo X="-244.5186" Y="-620.9827" Z="116.4726" />

				    <CustomBehavior File="MyCTM" X="-266.3696" Y="-618.3034" Z="88.80046" />
				    <CustomBehavior File="MyCTM" X="-254.1121" Y="-620.0305" Z="90.78832" />
				    <CustomBehavior File="MyCTM" X="-240.4345" Y="-624.7491" Z="90.783" />
				    <CustomBehavior File="MyCTM" X="-240.6464" Y="-643.9133" Z="62.07785" />
				    <CustomBehavior File="MyCTM" X="-239.9168" Y="-621.88" Z="64.68836" />
				    <CustomBehavior File="MyCTM" X="-238.0628" Y="-592.0763" Z="11.15806" />
				    <CustomBehavior File="MyCTM" X="-238.3158" Y="-577.2864" Z="11.04181" />
				    
				    <MoveTo X="-317.2586" Y="-577.3348" Z="11.00636" />
				    <MoveTo X="-372.7647" Y="-595.0178" Z="2.462813" />
				    <MoveTo X="-460.0569" Y="-600.3992" Z="1.956773" />
				    <MoveTo X="-529.5821" Y="-588.1884" Z="2.457371" />
				    <MoveTo X="-531.9599" Y="-539.5211" Z="3.328138" />
				    <MoveTo X="-507.212" Y="-511.9265" Z="11.04625" />
				    <MoveTo X="-516.8404" Y="-487.5807" Z="11.00653" />

					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw pause" />

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 
						
					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
					<CustomBehavior File="MyCTM" X="-525.4516" Y="-474.7986" Z="10.98291" TerminateWhen="Me.MapId != 600" />
				    <CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />
				</If>
			</While>
				<!-- Force Town Sell -->
				<If Condition="(Me.FreeBagSlots &lt; 17)" >
					<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />
					<If Condition="Me.Location.Distance(new WoWPoint(4822.283, -2039.614, 239.7233)) &lt;= 65" > <!-- If just came out instance -->
						<CustomBehavior File="MyCTM" X="4779.117" Y="-2037.057" Z="229.4113" />
						<CustomBehavior File="MyCTM" X="4841.16" Y="-2037.29" Z="250.0716" />
						<CustomBehavior File="MyCTM" X="4895.43" Y="-2032.036" Z="248.31" />
						
					</If>

						<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
							<CustomBehavior File="WaitTimer" WaitTime="750" />
							<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
							<CustomBehavior File="WaitTimer" WaitTime="2000" />
							<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
							<RunTo X="4889.332" Y="-2032.711" Z="248.3089" />
						</If>

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="FlyTo" X="5077.122" Y="-2249.123" Z="430.6839" />
					<CustomBehavior File="FlyTo" X="5384.368" Y="-2631.522" Z="329.4101" />
					<CustomBehavior File="FlyTo" X="5405.227" Y="-2655.048" Z="303.9551" />
					<CustomBehavior File="RunMacro" Macro="/dismount" />
					<SetVendor>
						<Vendors>
							<Vendor Name="Arlen Brighthammer" Entry="28796" Type="Repair" X="5410.7" Y="-2658.249" Z="303.9539" />
						</Vendors>
					</SetVendor>
					<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
					<CustomBehavior File="WaitTimer" WaitTime="1000" />
					<ClearVendor />
					<RunTo X="5397.145" Y="-2639.515" Z="303.9551" />
					<RunTo X="5416.015" Y="-2622.577" Z="306.9517" />
					<SetMailbox>
						<Mailboxes>
							<Mailbox X="5417.155" Y="-2620.26" Z="307.0088" />
						</Mailboxes>
					</SetMailbox>
					<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
					<RunTo X="5396.842" Y="-2617.582" Z="303.9539" />
					<ClearMailbox />
					<CustomBehavior File="FlyTo" X="5377.773" Y="-2611.433" Z="321.3243" />

					<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
				</If>
			</If>
		</If>

		<If Condition="Chance(14.3)"> <!-- Gundrak -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Gundrak.&quot;);" />
			<If Condition="Me.Location.Distance(new WoWPoint(4822.283, -2039.614, 239.7233)) &lt;= 65" > <!-- If just came out of Drak'tharon -->
				<CustomBehavior File="MyCTM" X="4779.117" Y="-2037.057" Z="229.4113" />
				<CustomBehavior File="MyCTM" X="4841.16" Y="-2037.29" Z="250.0716" />
				<CustomBehavior File="MyCTM" X="4895.43" Y="-2032.036" Z="248.31" />		
			</If>
			<If Condition="!(Me.MapId == 604) &amp;&amp; (Me.FreeBagSlots &gt;= 17)" >
				<If Condition="Me.Location.Distance(new WoWPoint(6944.809, -4426.977, 450.8831)) &gt; 100 " >
					<CustomBehavior File="FlyTo" X="6869.925" Y="-4472.948" Z="511.2688" />
					<CustomBehavior File="FlyTo" X="6954.726" Y="-4416.813" Z="450.0275" />
					<CustomBehavior File="WaitTimer" WaitTime="1000" />
					<CustomBehavior File="RunMacro" Macro="/dismount" />
				</If>
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)" >
				<If Condition="!(Me.MapId == 604)" >
					<RunTo X="6962.967" Y="-4409.615" Z="446.2835" />
					<!--<CustomBehavior File="MyCTM" X="6973.58" Y="-4400.046" Z="441.5751" />-->
					<CustomBehavior File="GoThruPortal" Timeout="30000" X="6968.59" Y="-4404.028" Z="442.5896" />
				</If>
				<If Condition="(Me.MapId == 604)" >
					<CustomBehavior File="RunMacro" Macro="/sw clear" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw play" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />

					<MoveTo X="1854.622" Y="640.1485" Z="175.8663" />
					<MoveTo X="1853.228" Y="638.6234" Z="175.802" />
					<CustomBehavior File="MyCTM" X="1840.902" Y="631.1052" Z="126.2862" />
					<MoveTo X="1824.368" Y="632.9717" Z="129.3592" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1805.276" Y="633.3484" Z="129.1355" />
						<RunTo X="1789.081" Y="630.5768" Z="124.4691" />
						<RunTo X="1775.437" Y="610.9134" Z="124.6004" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1763.212" Y="624.6196" Z="124.4669" />
						<RunTo X="1775.782" Y="650.1952" Z="124.4696" />
						<RunTo X="1775.17" Y="675.1672" Z="129.2167" />
					<EnableBehavior Name="Combat" />

					<MoveTo X="1777.956" Y="676.9604" Z="129.2174" />

					<CustomBehavior File="WaitTimer" WaitTime="300000" TerminateWhen="(Object(192518, o => o.ToGameObject().State == 0) != null) || (Object(192518, o => o.ToGameObject().CanUse()) != null)" />
					<While Condition="!(Object(192518, o =&gt; o.ToGameObject().State == 0) != null)">
						<CustomBehavior File="InteractWith" WaitForNpcs="false" IgnoreLoSToTarget="true" Range="4.8" MobId="192518" X="1775.293" Y="679.6804" Z="129.2361" />
						<CustomBehavior File="WaitTimer" WaitTime="1200" />
					</While>

					<MoveTo X="1765.704" Y="644.8124" Z="124.4661" />
					<MoveTo X="1726.359" Y="632.9615" Z="129.1971" />

			
					<DisableBehavior Name="Combat" />
						<RunTo X="1694.117" Y="633.3572" Z="128.4503" />
						<RunTo X="1673.767" Y="633.6954" Z="127.5972" />
						<RunTo X="1663.43" Y="625.3335" Z="128.0307" />
						<RunTo X="1664.98" Y="649.3254" Z="127.0745" />
					<EnableBehavior Name="Combat" />

			
					<DisableBehavior Name="Combat" /> //
						<RunTo X="1640.559" Y="639.2423" Z="126.216" />
						<RunTo X="1639.297" Y="659.866" Z="124.4361" />
						<RunTo X="1626.241" Y="695.3307" Z="142.1719" />
						<RunTo X="1626.227" Y="744.3055" Z="142.7861" />
						<RunTo X="1680.791" Y="743.1531" Z="142.7869" />
					<EnableBehavior Name="Combat" />
					<MoveTo X="1689.662" Y="743.3555" Z="142.781" />

					
					<CustomBehavior File="WaitTimer" WaitTime="300000" TerminateWhen="(Object(192520, o => o.ToGameObject().State == 0) != null) || (Object(192520, o => o.ToGameObject().CanUse()) != null)" />
					<While Condition="!(Object(192520, o =&gt; o.ToGameObject().State == 0) != null)">
						<CustomBehavior File="InteractWith" WaitForNpcs="false" IgnoreLoSToTarget="true" Range="4.8" MobId="192520" X="1693.509" Y="743.595" Z="142.7876" />
						<CustomBehavior File="WaitTimer" WaitTime="1200" />
					</While>

					<MoveTo X="1627.208" Y="751.5085" Z="142.7861" />

			
					<DisableBehavior Name="Combat" />
						<RunTo X="1625.227" Y="790.0083" Z="142.7824" />
						<RunTo X="1575.291" Y="833.7738" Z="153.3104" />
						<RunTo X="1585.866" Y="883.0992" Z="151.4873" />
					<EnableBehavior Name="Combat" />

			
					<DisableBehavior Name="Combat" /> //
						<RunTo X="1643.559" Y="894.985" Z="143.8395" />
						<RunTo X="1660.83" Y="867.6797" Z="137.6806" />
					<EnableBehavior Name="Combat" />
					//

			
					<DisableBehavior Name="Combat" />
						<RunTo X="1686.498" Y="894.6101" Z="133.4067" />
						<RunTo X="1715.809" Y="854.1606" Z="129.1983" />
						<RunTo X="1746.728" Y="858.087" Z="129.1924" />
					<EnableBehavior Name="Combat" />

			
					<DisableBehavior Name="Combat" /> //
						<RunTo X="1776.924" Y="850.5671" Z="123.1936" />
						<RunTo X="1797.481" Y="856.8885" Z="129.1889" />
						<RunTo X="1772.675" Y="810.5074" Z="129.2168" /> <!-- Third boss -->
					<EnableBehavior Name="Combat" />
					<MoveTo X="1772.236" Y="808.7632" Z="129.2166" />

					<CustomBehavior File="WaitTimer" WaitTime="300000" TerminateWhen="(Object(192519, o => o.ToGameObject().State == 0) != null) || (Object(192519, o => o.ToGameObject().CanUse()) != null)" />
					<While Condition="!(Object(192519, o =&gt; o.ToGameObject().State == 0) != null)">
						<CustomBehavior File="InteractWith" WaitForNpcs="false" IgnoreLoSToTarget="true" Range="4.8" MobId="192519" X="1772.219" Y="804.9631" Z="129.2361" />
						<CustomBehavior File="WaitTimer" WaitTime="1200" />
					</While>

				    <RunTo X="1769.452" Y="801.0773" Z="129.2167" />
				    <RunTo X="1739.418" Y="758.1852" Z="113.3648" />

				    <MoveTo X="1751.777" Y="743.4966" Z="118.9603" />

					<DisableBehavior Name="Combat" />
						<RunTo X="1847.016" Y="742.9401" Z="135.9356" />
						<RunTo X="1880.714" Y="757.1185" Z="135.9769" />
						<RunTo X="1882.871" Y="728.2493" Z="135.9563" />
						<RunTo X="1919.834" Y="743.6863" Z="136.5191" />
					<EnableBehavior Name="Combat" />
					<CustomBehavior File="InteractWith" MobId="29306" MobState="Alive" IgnoreCombat="true" WaitForNpcs="false" /> <!-- Pull Gal'darah just in case he was missed. -->
					<MoveTo X="1947.211" Y="681.9457" Z="135.4161" />
					<MoveTo X="1945.433" Y="663.1171" Z="135.2176" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 



					<CustomBehavior File="RunMacro" Macro="/sw pause" />

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
				    <CustomBehavior File="MyCTM" X="1905.168" Y="640.1153" Z="176.6356" TerminateWhen="Me.MapId != 604" />
				    <CustomBehavior File="WaitTimer" WaitTime="15000" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
				</If>
				<!--Instance Coordination Complete-->
			</While>
			<!-- Force town sell. -->
			<If Condition="(Me.FreeBagSlots &lt; 17)" >
				<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
				<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />


						<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
							<CustomBehavior File="WaitTimer" WaitTime="500" />
							<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
							<CustomBehavior File="WaitTimer" WaitTime="1800" />
							<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
						</If>
					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="FlyTo" X="6845.171" Y="-4535.665" Z="524.4027" />
						<CustomBehavior File="FlyTo" X="5870.244" Y="-3906.165" Z="493.8217" />
						<CustomBehavior File="FlyTo" X="5850.354" Y="-3643.215" Z="398.8691" />
						<CustomBehavior File="FlyTo" X="5780.249" Y="-3583.092" Z="400.9279" />
						<CustomBehavior File="FlyTo" X="5779.767" Y="-3573.306" Z="386.5177" />
						<CustomBehavior File="RunMacro" Macro="/dismount" />
						<RunTo X="5770.711" Y="-3573.024" Z="387.1675" />
						<SetVendor>
							<Vendors>
								<Vendor Name="Ba'kari" Entry="28855" Type="Repair" X="5769.661" Y="-3572.947" Z="387.2385" />
							</Vendors>
						</SetVendor>
						<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" DoTrain="False" />
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
						<ClearVendor />
						<RunTo X="5780.233" Y="-3568.455" Z="386.5152" />
						<If Condition="(Me.FreeBagSlots &lt; 20)" >
							<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;You're still under 20 bagslots after selling. Moving to mail.&quot;);" />
							<CustomBehavior File="FlyTo" X="5546.134" Y="-3194.041" Z="440.3812" />
							<CustomBehavior File="FlyTo" X="5525.695" Y="-2623.592" Z="319.2954" />
							<RunTo X="5490.855" Y="-2640.885" Z="305.896" />
							<CustomBehavior File="RunMacro" Macro="/dismount" />
							<SetMailbox>
								<Mailboxes>
									<Mailbox X="5417.155" Y="-2620.26" Z="307.0088" />
								</Mailboxes>
							</SetMailbox>
							<RunTo X="5416.015" Y="-2622.577" Z="306.9517" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" />
							<RunTo X="5396.842" Y="-2617.582" Z="303.9539" />
							<ClearMailbox />
							<CustomBehavior File="FlyTo" X="5377.773" Y="-2611.433" Z="321.3243" />
						</If>

						<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />

						<CustomBehavior File="FlyTo" X="6002.019" Y="-3651.332" Z="491.8026" />
					</If>
				</If>
		</If>

		<If Condition="Chance(14.3)" > <!-- Halls of Lightning -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Halls of Lightning.&quot;);" />
			<If Condition="Me.Location.Distance(new WoWPoint(9168.483, -1370.176, 1095.251)) &gt;= 30" >
				<CustomBehavior File="FlyTo" X="9160.772" Y="-1364.403" Z="1115.498" />
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)" >
				<If Condition="!(Me.MapId == 602)">
					<RunTo X="9184.104" Y="-1386.851" Z="1110.216" />
					<CustomBehavior File="MyCTM" X="9190.415" Y="-1395.566" Z="1110.215" TerminateWhen="Me.MapId == 602" />
				</If>
				<If Condition="(Me.MapId == 602)" >
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

					<CustomBehavior File="UserSettings" LootMobs="True" PullDistance="40" />
					<RunTo X="1331.41" Y="199.7128" Z="52.81123" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1337.66" Y="163.1053" Z="53.70436" />
						<RunTo X="1336.256" Y="100.1847" Z="40.18056" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1355.665" Y="65.16386" Z="43.96903" /> //
						<RunTo X="1402.045" Y="42.95391" Z="50.03842" /> //
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1439.105" Y="45.48732" Z="56.66748" /> ///  <!-- Last mob pack pull. -->
					<EnableBehavior Name="Combat" />

					<RunTo X="1388.471" Y="30.90633" Z="50.03843" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1368.888" Y="21.05645" Z="49.83234" />
						<RunTo X="1337.649" Y="-32.34933" Z="40.18052" />
					<EnableBehavior Name="Combat" />

					<RunTo X="1331.997" Y="-100.1994" Z="23.22629" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />  <!-- Slabs -->
						<RunTo X="1316.529" Y="-167.4804" Z="23.22557" />
						<RunTo X="1331.599" Y="-224.597" Z="36.6249" />
					<EnableBehavior Name="Combat" />

					<RunTo  X="1337.942" Y="-233.5529" Z="37.80328" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1363.093" Y="-237.6061" Z="37.80626" />
						<RunTo X="1302.291" Y="-237.3351" Z="37.76667" />
					<EnableBehavior Name="Combat" />

					<RunTo X="1310.339" Y="-222.924" Z="40.59811" /> <!--No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1296.24" Y="-184.3698" Z="52.02307" />
						<RunTo X="1369.066" Y="-186.5488" Z="52.02481" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1366.527" Y="-137.415" Z="54.94798" /> //
						<RunTo X="1296.846" Y="-144.8582" Z="52.00815" /> //
					<EnableBehavior Name="Combat" />

					<CustomBehavior File="InteractWith" MobId="28587" MobState="Alive" WaitForNpcs="false" X="1333.095" Y="-111.4276" Z="56.71784" /> <!-- Pull Volkhan -->
					<RunTo X="1287.921" Y="-161.2075" Z="52.02122" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1190.766" Y="-163.0728" Z="52.37841" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1182.156" Y="-198.6261" Z="52.44511" /> // 
					<EnableBehavior Name="Combat" />

					<RunTo X="1177.321" Y="-222.0205" Z="52.55298" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1174.103" Y="-261.2543" Z="52.35262" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1111.6" Y="-263.8185" Z="56.87343" /> //
					<EnableBehavior Name="Combat" />


					<RunTo X="1099.243" Y="-262.1025" Z="56.87389" /> <!-- No mobs pulled here. -->
					<CustomBehavior File="InteractWith" MobId="28546" MobState="Alive" WaitForNpcs="false" X="1084.386" Y="-261.6173" Z="61.1981" /> <!-- Pull Ionar -->
					<RunTo X="1074.463" Y="-232.8099" Z="61.19876" /> <!-- No mobs pulled here. -->

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1081.213" Y="-210.6741" Z="61.19409" />
						<RunTo X="1086.953" Y="-173.0991" Z="56.6468" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1100.955" Y="-142.5512" Z="61.21936" /> //
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1056.017" Y="-169.4132" Z="56.64449" />
						<RunTo X="1055.698" Y="-170.059" Z="56.64816" />
						<RunTo X="1048.225" Y="-139.9224" Z="61.22002" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1040.782" Y="-115.5496" Z="61.25932" /> //
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1074.053" Y="-108.4413" Z="56.74244" />
						<RunTo X="1114.542" Y="-118.3881" Z="61.26659" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="1078.436" Y="-39.96408" Z="61.19484" /> //
					<EnableBehavior Name="Combat" />

	
					<RunTo X="1066.26" Y="-18.35331" Z="61.20409" /> <!-- No mobs pulled here. -->
					<RunTo X="1039.36" Y="24.96756" Z="58.34365" /> <!-- Mob may be pulled here. -->
					<RunTo X="1150.202" Y="33.70441" Z="60.43929" /> <!--Mob may be pulled here. -->
					<CustomBehavior File="InteractWith" MobId="28923" MobState="Alive" WaitForNpcs="false" X="1179.998" Y="34.06177" Z="60.72852" /> <!-- Pull Loken -->
					<RunTo X="1183.806" Y="50.22289" Z="60.72858" /> <!-- Navigate shortcut 1 -->
					<RunTo X="1243.369" Y="32.99341" Z="58.21875" /> <!-- Navigate shortcut 2 -->
					<CustomBehavior File="MyCTM" X="1265.287" Y="33.88977" Z="33.50571" />

					<DisableBehavior Name="Combat" />
						<RunTo X="1252.129" Y="-26.77266" Z="33.50569" />
					<EnableBehavior Name="Combat" />

					<DisableBehavior Name="Combat" />
						<RunTo X="1269.707" Y="104.146" Z="33.50554" /> //
						<RunTo X="1293.428" Y="91.48701" Z="36.04799" />//
					<EnableBehavior Name="Combat" />

					<CustomBehavior File="InteractWith" MobId="28586" MobState="Alive" WaitForNpcs="false" CollectionDistance="1000" /> <!-- Pull General Bjarngrim -->
				<RunTo X="1313.052" Y="99.55944" Z="40.18031" /> <!-- No mobs pulled here. -->
					<RunTo X="1331.879" Y="247.3523" Z="52.58322" /> <!-- No mobs pulled here. -->

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
					<CustomBehavior File="MyCTM" X="1330.933" Y="276.6876" Z="53.39822" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />

				</If>
			</While>
			<!--Vendor Code -->	
			<If Condition="(Me.FreeBagSlots &lt; 17)" >
				<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
				<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />

			<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
				<CustomBehavior File="WaitTimer" WaitTime="750" />
				<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
				<CustomBehavior File="WaitTimer" WaitTime="2000" />
						<CustomBehavior File="WaitTimer" WaitTime="1100" />
						<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
					</If>

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="FlyTo" X="9125.889" Y="-1329.844" Z="1061.307" />
						<CustomBehavior File="FlyTo" X="8913.015" Y="-1302.307" Z="1025.499" />
						<CustomBehavior File="FlyTo" X="8897.434" Y="-1347.713" Z="1031.36" />
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
						<CustomBehavior File="RunMacro" Macro="/dismount" />
						<RunTo X="8891.013" Y="-1359.756" Z="1033.76" />
						<SetVendor>
							<Vendors>
								<Vendor Name="Chester Copperpot" Entry="32477" Type="Repair" />
								<Vendor Name="Chester Copperpot" Entry="32477" Type="Food" X="8893.612" Y="-1361.069" Z="1033.906" />
							</Vendors>
						</SetVendor>
						<CustomBehavior File="WaitTimer" WaitTime="500" />
						<CustomBehavior File="ForceSetVendor" DoMail="False" DoRepair="True" DoSell="True"  />
						<RunTo X="8900.253" Y="-1344.676" Z="1029.835" />
						<ClearVendor />

						<If Condition="(Me.FreeBagSlots &lt; 20)" >
							<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;You're still under 20 bagslots after selling. Moving to mail.&quot;);" />
							<CustomBehavior File="FlyTo" X="8838.542" Y="-1240.169" Z="1072.359" />
							<CustomBehavior File="FlyTo" X="8549.084" Y="-397.8126" Z="1038.629" />
							<CustomBehavior File="FlyTo" X="8452.892" Y="-331.8914" Z="906.7128" />
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
							<CustomBehavior File="RunMacro" Macro="/dismount" />
							<SetMailbox>
								<Mailboxes>
									<Mailbox X="8440.736" Y="-329.4271" Z="906.5062" />
								</Mailboxes>
							</SetMailbox>
							<RunTo X="8443.004" Y="-329.3138" Z="906.6082" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" DoRepair="False" DoSell="False" />
							<RunTo X="8447.863" Y="-331.8242" Z="906.6082" />
							<RunTo X="8389.097" Y="-387.6377" Z="903.0562" />
							<CustomBehavior File="ForceSetVendor" DoMail="False" DoRepair="True" DoSell="True" />
							<SetVendor>
								<Vendors>
									<Vendor Name="Dargum Hammerdeep" Entry="29964" Type="Repair" X="8383.45" Y="-390.166" Z="903.1187" />
								</Vendors>
							</SetVendor>
							<RunTo X="8426.303" Y="-355.7512" Z="906.402" />
							<RunTo X="8454.813" Y="-326.4458" Z="906.878" />
							<CustomBehavior File="FlyTo" X="8549.319" Y="-282.6343" Z="926.7976" />
							<ClearVendor />
							<ClearMailbox />
							<CustomBehavior File="FlyTo" X="8607.005" Y="-458.6642" Z="1092.152" />
						</If>

					<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
				</If>
			</If>
		</If>

		<If Condition="Chance(14.3)" > <!-- The Nexus -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing The Nexus.&quot;);" />
			<If Condition="!(Me.MapId == 576) &amp;&amp; (Me.FreeBagSlots &gt;= 17)" >
				<If Condition="(Me.Location.Distance(new WoWPoint(3843.809, 6980.912, 86.65029)) &gt; 100)" >
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Heading to Instance.&quot;);" />
					<CustomBehavior File="FlyTo" X="3752.128" Y="6946.389" Z="158.0456" />
					<CustomBehavior File="FlyTo" X="3802.37" Y="6963.975" Z="102.0923" />
					<RunTo X="3841.842" Y="6985.99" Z="86.33597" />
					<CustomBehavior File="MyCTM" X="3884.149" Y="6984.979" Z="72.9556" />
					<CustomBehavior File="RunMacro" Macro="/dismount" />
				</If>
			</If>
			<If Condition="!(Me.MapId == 576) &amp;&amp; (Me.FreeBagSlots &lt; 17)" >
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Profile started with nearly-full bags.&quot;);" />
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)">
				<If Condition="!(Me.MapId == 576)" >
					<RunTo X="3894.839" Y="6985.287" Z="69.4888" />
					<CustomBehavior File="MyCTM" X="3901.258" Y="6985.32" Z="69.4879" TerminateWhen="Me.MapId == 576 || Me.IsInInstance" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
				</If>
			<!-- Instance Navigation Start -->
				<If Condition="(Me.MapId == 576)" >

					<CustomBehavior File="RunMacro" Macro="/sw clear" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw play" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					    <MoveTo X="169.1284" Y="-4.3689" Z="-16.6367"  />

		
						<DisableBehavior Name="Combat" />
							<RunTo X="221.0859" Y="16.0528" Z="-16.6367"  />
						    <RunTo X="278.5741" Y="73.3562" Z="-16.6367"  />
						    <RunTo X="305.7111" Y="141.9848" Z="-18.4027"  />
						    <RunTo X="330.5047" Y="161.2305" Z="-25.9970"  />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
						    <RunTo X="388.6885" Y="149.3687" Z="-35.0195"  />
						    <RunTo X="422.6887" Y="184.3862" Z="-35.0195"  />
						    <RunTo X="460.9041" Y="148.3470" Z="-35.0195"  />
						<EnableBehavior Name="Combat" />
						<MoveTo X="460.9041" Y="148.3470" Z="-35.0195"  /> <!-- May not loot the mobs pulled above if this isn't here -->

		
						<DisableBehavior Name="Combat" />
							<RunTo X="529.7989" Y="156.8550" Z="-23.4009"  />
							<RunTo X="552.9893" Y="114.4279" Z="-16.6384"  />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
							<RunTo X="544.3516" Y="98.8049" Z="-16.3363"  />
							<RunTo X="495.0298" Y="89.1818" Z="-16.1236"  /><!-- Boss pull -->
						<EnableBehavior Name="Combat" />
						<CustomBehavior File="WaitTimer" WaitTime="2500" /> <!-- Wait for boss to do stuff -->
						<MoveTo X="541.6865" Y="81.1237" Z="-16.4172"  />

		
						<DisableBehavior Name="Combat" />
							<RunTo X="553.1749" Y="64.00994" Z="-16.63754" />
							<RunTo X="582.1352" Y="68.09231" Z="-16.63848" />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
							<RunTo X="609.1492" Y="111.6957" Z="-17.8667" />
						    <RunTo X="636.6663" Y="55.8515" Z="-21.6359"  /> 
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" />
						    <RunTo X="637.1849" Y="0.9165" Z="-5.9633"  />
						    <RunTo X="639.7643" Y="-27.5754" Z="-5.9633"  />
						    <RunTo X="643.7450" Y="-105.6150" Z="-15.2364"  />
						<EnableBehavior Name="Combat" />
					    <MoveTo X="573.0300" Y="-122.0418" Z="-26.7281"  />

		
						<DisableBehavior Name="Combat" />
						    <RunTo X="546.0927" Y="-200.0826" Z="-20.0310"  />
						    <RunTo X="479.0217" Y="-195.2553" Z="-13.2215"  />
						    <RunTo X="441.2435" Y="-177.0450" Z="-14.0888"  />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
						    <RunTo X="395.5955" Y="-190.2206" Z="-14.0888"  />
						    <RunTo X="393.6229" Y="-214.4055" Z="-14.4552"  />
						    <RunTo X="394.7177" Y="-251.4156" Z="-14.4552"  />
						    <RunTo X="438.1823" Y="-263.6430" Z="-14.0888"  />
						<EnableBehavior Name="Combat" />
						<MoveTo X="438.1823" Y="-263.6430" Z="-14.0888"  /> <!-- May not loot the mobs pulled above if this isn't here -->

		
						<DisableBehavior Name="Combat" />
						    <RunTo X="412.1041" Y="-300.1021" Z="-14.0888"  />
						    <RunTo X="419.1631" Y="-321.3740" Z="-14.3403"  />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
						    <RunTo X="347.3083" Y="-315.9611" Z="-14.4536"  />
						    <RunTo X="303.4732" Y="-241.4905" Z="-14.0889"  />  <!-- Patrolling mob may be missed -->
						    <RunTo X="265.9869" Y="-225.6969" Z="-9.1010"  /> <!-- Boss -->
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" />
						    <RunTo X="276.9054" Y="-197.5573" Z="-8.2541"  />
						    <RunTo X="299.7686" Y="-184.9482" Z="1.6930"  />
						    <RunTo X="333.4079" Y="-201.0313" Z="6.6202"  />
		    			<EnableBehavior Name="Combat" />
		    			<CustomBehavior File="MyCTM" X="348.4768" Y="-194.8743" Z="-14.0888"  />

		
						<DisableBehavior Name="Combat" />
						    <RunTo X="348.6558" Y="-181.3184" Z="-14.5043"  />
						    <RunTo X="311.7161" Y="-156.3680" Z="-14.7112"  />
						    <RunTo X="297.1473" Y="-158.4477" Z="-14.7046"  />
		    			<EnableBehavior Name="Combat" />
					    <MoveTo X="289.8402" Y="-94.3526" Z="-16.6367"  />
		
					    <MoveTo X="217.8408" Y="-29.5976" Z="-16.6367"  />
					    <MoveTo X="170.1124" Y="-6.1506" Z="-16.6367"  />
					    <MoveTo X="146.7844" Y="-6.9682" Z="-16.6367"  />
					    <MoveTo X="146.0996" Y="-4.8693" Z="-16.6367"  />
					    <MoveTo X="146.0792" Y="-10.1207" Z="-16.6367"  />
					    <MoveTo X="146.0642" Y="-13.9860" Z="-16.6367"  />

						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />
						<CustomBehavior File="RunMacro" Macro="/sw pause" />

						<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
						<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 

						<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
						<CustomBehavior File="MyCTM" X="145.8862" Y="-16.48927" Z="-16.63667" />
						<CustomBehavior File="WaitTimer" WaitTime="15000" />
					    <CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />
				</If> <!--Nexus -->
			</While>
				<If Condition="(Me.FreeBagSlots &lt; 17)" ><!-- Force Town Sell: Nexus-->
					<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />

					<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
						<CustomBehavior File="WaitTimer" WaitTime="750" />
						<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
						<CustomBehavior File="WaitTimer" WaitTime="2000" />
							<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
						</If>

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<If Condition="!(Me.Location.Distance(new WoWPoint(3843.809, 6980.912, 86.65029)) &gt; 100)" >
							<RunTo X="3787.271" Y="6959.985" Z="104.8405" />
							<CustomBehavior File="FlyTo" X="3724.287" Y="6919.871" Z="183.8073" />
						</If>
						<CustomBehavior File="FlyTo" X="3724.287" Y="6919.871" Z="183.8073" />
						<CustomBehavior File="FlyTo" X="3592.362" Y="6715.786" Z="194.7992" />
						<MoveTo X="3583.676" Y="6664.952" Z="195.2215" />
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
						<CustomBehavior File="RunMacro" Macro="/dismount" />
						<CustomBehavior File="MyCTM" X="3576.351" Y="6670.911" Z="195.1068" />
						<SetVendor>
							<Vendors>
								<Vendor Name="Archmage Berinand" Entry="25314" Type="Repair" X="3575.609" Y="6671.719" Z="195.1093" />
							</Vendors>
						</SetVendor>
						<CustomBehavior File="ForceSetVendor" DoSell="True" DoRepair="True" />
						<ClearVendor />
						<MoveTo X="3578.65" Y="6669.341" Z="195.698" />
						<MoveTo X="3583.291" Y="6664.908" Z="195.218" />
						<If Condition="(Me.FreeBagSlots &lt; 20)" >
							<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.Orange, &quot;You're still under 20 bagslots after selling. Moving to mail.&quot;);" />
							<CustomBehavior File="FlyTo" X="3627.705" Y="6537.568" Z="330.9476" />
							<CustomBehavior File="FlyTo" X="3500.86" Y="6272.117" Z="296.2089" />
							<CustomBehavior File="FlyTo" X="3040.02" Y="5984.059" Z="251.9397" />
							<If Condition="Me.IsHorde" >
								<MoveTo Nav="Fly" X="4469.471" Y="5769.258" Z="112.6388" />
								<SetMailbox>
									<Mailboxes>
										<Mailbox Nav="Fly" X="4502.223" Y="5716.38" Z="81.48362" />
									</Mailboxes>
								</SetMailbox>
								<SetVendor>
									<Vendors>
										<Vendor Nav="Fly" Name="Vrok" Entry="27063" Type="Repair" X="4507.342" Y="5722.407" Z="81.51395" />
									</Vendors>
								</SetVendor>

								<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="True" DoRepair="True" />
								<MoveTo Nav="Fly" X="4469.471" Y="5769.258" Z="112.6388" />
								<ClearMailbox />
								<ClearVendor />
							</If>
							<If Condition="Me.IsAlliance" >
								<CustomBehavior File="FlyTo" X="2830.381" Y="5640.667" Z="186.129" />
								<CustomBehavior File="FlyTo" X="2347.562" Y="5262.368" Z="71.68102" />
								<CustomBehavior File="FlyTo" X="2262.701" Y="5223.041" Z="11.29597" />
								<CustomBehavior File="RunMacro" Macro="/dismount" />
								<RunTo X="2255.257" Y="5200.692" Z="11.31578" />
								<SetMailbox>
									<Mailboxes>
										<Mailbox X="2262.991" Y="5196.116" Z="12.07119" />
									</Mailboxes>
								</SetMailbox>
								<RunTo X="2261.895" Y="5196.665" Z="11.36039" />
								<CustomBehavior File="ForceSetVendor" DoMail="True" />
								<RunTo X="2250.853" Y="5193.352" Z="11.40879" />
								<ClearMailbox/>
								<CustomBehavior File="FlyTo" X="2195.117" Y="5254.324" Z="103.9113" />
								<CustomBehavior File="FlyTo" X="2506.578" Y="5315.387" Z="149.9376" />
							</If>

							<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
							<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
							<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
							<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
						</If>
					</If>
				</If>
		</If>

		<If Condition="Chance(14.3)" > <!-- Pit of Saron -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Pit of Saron.&quot;);" />
			<If Condition="!(Me.MapId == 658)" >
				<If Condition="Me.Location.Distance(new WoWPoint(5634.798, 2045.548, 798.2698)) &gt; 300" >
					<CustomBehavior File="FlyTo" X="5770.986" Y="2326.418" Z="850.9347" />
					<CustomBehavior File="FlyTo" X="5698.327" Y="2260.403" Z="804.2882" />
					<CustomBehavior File="FlyTo" X="5691.296" Y="2149.469" Z="798.1164" />
					<RunTo X="5686.696" Y="2098.407" Z="798.0547" />
					<RunTo X="5642.319" Y="2098.064" Z="798.0547" />
					<RunTo X="5635.262" Y="2048.698" Z="798.0886" /> <!-- Instance Hub Center -->
					<RunTo X="5603.936" Y="2020.71" Z="798.0433" />
				</If>
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)" >
				<If Condition="!(Me.MapId == 658)" >
					<RunTo X="5599.823" Y="2016.675" Z="798.0419" />
					<RunTo X="5587.691" Y="2005.754" Z="798.0637" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
				</If>
				<If Condition="(Me.MapId == 658)" >

					<CustomBehavior File="RunMacro" Macro="/sw clear" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw play" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					<MoveTo X="462.8812" Y="210.3155" Z="528.7101" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="497.7629" Y="198.9767" Z="528.711" />
						<RunTo X="499.1763" Y="246.8468" Z="528.7086" />
						<RunTo X="560.7149" Y="314.6028" Z="508.8786" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" /> //
						<RunTo X="594.894" Y="273.0906" Z="506.1729" />
						<RunTo X="627.7512" Y="329.0624" Z="511.8988" />
					<EnableBehavior Name="Combat" />
					//

	
					<DisableBehavior Name="Combat" />
						<RunTo X="637.7632" Y="246.7409" Z="508.2406" />
						<RunTo X="618.652" Y="215.003" Z="507.2184" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" /> //
						<RunTo X="586.6638" Y="193.0613" Z="509.5077" />
						<RunTo X="589.692" Y="164.9623" Z="509.4684" />
					<EnableBehavior Name="Combat" />

	
					<DisableBehavior Name="Combat" /> <!--This may be removed -->
						<RunTo X="607.6797" Y="153.0993" Z="507.0971" />
						<RunTo X="627.4225" Y="112.1783" Z="510.0671" />
						<RunTo X="612.2524" Y="103.2638" Z="509.5931" />
					<EnableBehavior Name="Combat" />
					//
	
					<DisableBehavior Name="Combat" /> 
						<RunTo X="600.7726" Y="51.78936" Z="510.3212" />
						<RunTo X="622.8182" Y="-13.72707" Z="513.7403" />
					<EnableBehavior Name="Combat" />


					<MoveTo  X="694.9253" Y="-114.1457" Z="513.8766" />
					<CustomBehavior File="InteractWith" MobId="36494" Range="1" X="686.7497" Y="-201.2122" Z="526.718" /><!-- Ensure boss is pulled -->
					<MoveTo X="697.0652" Y="-154.8882" Z="528.0614" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="751.0167" Y="-67.72236" Z="511.3784" />
						<RunTo X="832.5563" Y="4.63835" Z="509.8898" />
					<EnableBehavior Name="Combat" />
					//
	
					<DisableBehavior Name="Combat" />
						<RunTo X="792.0877" Y="73.15079" Z="511.1664" />
						<RunTo X="855.215" Y="124.6178" Z="509.9713" /> <!-- Boss -->
					<EnableBehavior Name="Combat" />

					<!-- Different method for pulling because of wait timers -->
					<DisableBehavior Name="Combat" />
					<RunTo X="822.5422" Y="62.66116" Z="510.1578" />
					<RunTo X="881.9714" Y="53.17904" Z="527.1292" />
					<CustomBehavior File="WaitTimer" WaitTime="8000" />
					<RunTo X="909.2275" Y="73.0071" Z="549.1202" />
					<EnableBehavior Name="Combat" />

					<MoveTo X="947.6536" Y="64.77467" Z="566.3545" />

	
					<DisableBehavior Name="Combat" />
						<RunTo X="941.338" Y="36.81192" Z="571.168" />
						<RunTo X="935.8949" Y="30.70243" Z="572.967" />
						<RunTo X="932.956" Y="-27.00056" Z="588.8272" />
					<EnableBehavior Name="Combat" />

					<RunTo X="838.4686" Y="45.50679" Z="510.6235" />
					<CustomBehavior File="WaitTimer" WaitTime="1000" />
					<CustomBehavior File="Misc\RunLua" Lua="if not IsMounted() then local m,t,f=&quot;mount&quot;,{{},{}} for i=2,GetNumCompanions(m) do tinsert(t[bit.band(2,select(6,GetCompanionInfo(m,i)))==0 and 1 or 2],i) end f=IsFlyableArea() and 2 or 1 CallCompanion(m,t[f][random(#t[f])]) else Dismount() end" />
					<CustomBehavior File="WaitTimer" WaitTime="5000" />
					<CustomBehavior File="NoCombatMoveTo" X="441.2151" Y="212.344" Z="528.7101" />

					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw pause" />

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 

					<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
						<CustomBehavior File="WaitTimer" WaitTime="750" />
						<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
						<CustomBehavior File="WaitTimer" WaitTime="2000" />
							<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
						</If>

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
					<CustomBehavior File="MyCTM" X="425.3003" Y="212.2813" Z="529.9125" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances();" />
				</If>

			</While>
			<If Condition="(Me.FreeBagSlots &lt; 17)" >
				<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
				<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />
				<RunTo X="5639.215" Y="2052.72" Z="798.0443" />
				<RunTo X="5639.342" Y="2093.575" Z="798.0549" />
				<RunTo X="5683.509" Y="2097.039" Z="798.0556" />
				<RunTo X="5692.563" Y="2154.98" Z="798.1262" />
				<CustomBehavior File="FlyTo" X="5693.586" Y="2289.171" Z="841.021" />
				<CustomBehavior File="FlyTo" X="5842.477" Y="2221.141" Z="818.6159" />
				<CustomBehavior File="FlyTo" X="5644.941" Y="864.0459" Z="757.019" />
				<CustomBehavior File="FlyTo" X="5799.46" Y="728.1071" Z="666.0384" />
				<CustomBehavior File="FlyTo" X="5784.907" Y="693.1074" Z="647.0889" />
				<CustomBehavior File="RunMacro" Macro="/dismount" />
				<CustomBehavior File="MyCTM" X="5792.684" Y="686.665" Z="647.0988" />
				<CustomBehavior File="MyCTM" X="5797.183" Y="688.9267" Z="648.1799" />
				<SetVendor>
					<Vendors>
						<Vendor Name="Rueben Lauren" Entry="35496" Type="Repair" X="5798.024" Y="689.6007" Z="647.0987" />
					</Vendors>
				</SetVendor>
				<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
				<RunTo X="5788.56" Y="689.9357" Z="647.0991" />
				<ClearVendor />
				<SetMailbox>
					<Mailboxes>
						<Mailbox X="5800.739" Y="731.1019" Z="640.4297" />
					</Mailboxes>
				</SetMailbox>
				<RunTo X="5800.739" Y="731.1019" Z="640.4297" />
				<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
				<RunTo X="5803.12" Y="718.2377" Z="640.7383" />
				<ClearMailbox />
				<CustomBehavior File="FlyTo" X="5777.883" Y="697.1115" Z="732.1843" />
				<CustomBehavior File="FlyTo" X="5686.838" Y="905.868" Z="712.2202" />
				<ClearVendor />
				<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
				<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
				<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
				<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />

			</If>
		</If>

		<If Condition="Chance(14.3)" > <!-- Ahn'Kahet -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Ahn'Kahet.&quot;);" />
			<If Condition="!(Me.MapId == 619)" >
				<If Condition="Me.Location.Distance(new WoWPoint(3700.083, 2147.2, 35.71764)) &gt; 100 ||  Me.Location.Distance(new WoWPoint(3650.257, 2052.651, 1.787716)) &gt; 120">	
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Heading to Instance.&quot;);" />
					<CustomBehavior File="FlyTo" X="3694.782" Y="2294.216" Z="224.947" />
					<CustomBehavior File="FlyTo" X="3721.947" Y="2145.785" Z="52.86993" />
					<RunTo X="3751.606" Y="2130.644" Z="46.54139" />
					<RunTo X="3709.008" Y="2151.853" Z="37.00673" />
					<RunTo X="3683.676" Y="2117.896" Z="26.34149" />
				</If>
			</If>
				<While Condition="(Me.FreeBagSlots &gt;= 17)" >
					<If Condition="!(Me.MapId == 619)" >
						<MoveTo X="3644.882" Y="2040.105" Z="1.787762" />
						<CustomBehavior File="MyCTM" X="3639.663" Y="2027.607" Z="2.518004" />
						<CustomBehavior File="WaitTimer" WaitTime="15000" />
					</If>
					<!--Instance Navigation Start -->
					<If Condition="(Me.MapId == 619)" >

						<CustomBehavior File="RunMacro" Macro="/sw clear" />
						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
						<CustomBehavior File="RunMacro" Macro="/sw play" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

						<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
						<DisableBehavior Name="Combat" />

						<MoveTo X="452.1915" Y="-1034.2" Z="29.7841" />

						<MoveTo X="504.5302" Y="-1037.181" Z="30.35317" />
						<MoveTo X="481.3041" Y="-1011.203" Z="30.3519" />
						<MoveTo X="496.138" Y="-972.3867" Z="30.35218" />

		
						<DisableBehavior Name="Combat" />
							<RunTo X="490.2238" Y="-1004.301" Z="30.3529" />
							<RunTo X="550.4992" Y="-1003.801" Z="37.93991" />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
							<RunTo X="565.9688" Y="-1015.411" Z="37.9385" />
							<RunTo X="549.9363" Y="-973.0606" Z="37.93736" />
						<EnableBehavior Name="Combat" />

						<EnableBehavior Name="Combat" />

						<MoveTo X="548.456" Y="-913.4817" Z="22.44852" />

		
						<DisableBehavior Name="Combat" />
							<RunTo X="559.6146" Y="-872.9589" Z="22.69209" />
							<RunTo X="603.268" Y="-910.7541" Z="22.44853" />
							<RunTo X="631.9755" Y="-880.8329" Z="22.44851" />
						<EnableBehavior Name="Combat" />

						<MoveTo X="658.3256" Y="-875.9893" Z="22.87346" />

		
						<DisableBehavior Name="Combat" />
							<RunTo X="683.3986" Y="-864.4448" Z="9.431746" />
							<RunTo X="661.5158" Y="-830.2519" Z="-3.274278" />
							<RunTo X="607.4096" Y="-844.7309" Z="-3.272071" />
						<EnableBehavior Name="Combat" />

		
						<DisableBehavior Name="Combat" /> //
							<RunTo X="563.2316" Y="-812.1907" Z="-3.272071" />
							<RunTo X="622.6695" Y="-788.5225" Z="-2.747248" />
							<RunTo X="695.9979" Y="-786.883" Z="17.97837" />
						<EnableBehavior Name="Combat" />

						<MoveTo X="689.3633" Y="-783.4963" Z="17.97832" />
					    <CustomBehavior File="WaitTimer" WaitTime="1000" />
					    <CustomBehavior File="InteractWith" MobId="193094" WaitForNpcs="false" X="692.4652" Y="-783.9114" Z="18.02638" />

					    <MoveTo X="659.7007" Y="-720.4401" Z="17.97827" />


					    <CustomBehavior File="WaitTimer" WaitTime="1000" />
					    <CustomBehavior File="InteractWith" MobId="193093" WaitForNpcs="false" X="655.7294" Y="-719.0492" Z="18.02638" />

					    
					    <MoveTo X="534.402" Y="-804.5891" Z="4.70351" />
					    <MoveTo X="527.983" Y="-848.8638" Z="11.16894" /> <!-- First boss. -->
					    <CustomBehavior File="WaitTimer" WaitTime="5000"/>

					    <MoveTo X="548.4804" Y="-862.8893" Z="10.4542" />

					    
						<MoveTo X="553.6356" Y="-879.3311" Z="3.400094" />
						<MoveTo X="526.212" Y="-872.262" Z="-2.293729" />
						<MoveTo X="511.0645" Y="-838.8326" Z="-16.76061" />
						<MoveTo X="513.7563" Y="-821.7189" Z="-21.95565" />
						<MoveTo X="493.6754" Y="-802.0946" Z="-24.28858" />
						<MoveTo X="504.3292" Y="-789.9609" Z="-24.07919" />

		
					   <DisableBehavior Name="Combat" />
							<RunTo X="501.8446" Y="-768.6512" Z="-31.65459" />
							<RunTo X="464.9075" Y="-765.8749" Z="-31.67026" />
							<RunTo X="472.6755" Y="-763.9572" Z="-31.67026" />
						<EnableBehavior Name="Combat" />

		
					    <DisableBehavior Name="Combat" /> //
							<RunTo X="473.0989" Y="-739.9521" Z="-31.67026" />
							<RunTo X="445.6839" Y="-717.188" Z="-27.78134" />
							<RunTo X="387.9178" Y="-699.7448" Z="-16.181" />
							<RunTo X="360.9338" Y="-718.9777" Z="-16.181" />
						<EnableBehavior Name="Combat" />

						<MoveTo X="375.0802" Y="-707.8635" Z="-16.181" />
						<CustomBehavior File="WaitTimer" WaitTime="15000" />

		
					   <DisableBehavior Name="Combat" />
							<RunTo X="404.0738" Y="-780.0747" Z="-31.65137" />
							<RunTo X="422.2006" Y="-801.1339" Z="-31.67037" />
						<EnableBehavior Name="Combat" />

						<MoveTo X="531.2178" Y="-732.3764" Z="-30.65046" />
						<MoveTo X="525.0428" Y="-578.1506" Z="27.30646" />

		
					   <DisableBehavior Name="Combat" />
							<RunTo X="524.7744" Y="-543.7261" Z="26.42578" />
							<RunTo X="483.6364" Y="-503.1805" Z="26.35603" />
							<RunTo X="522.2768" Y="-450.9974" Z="26.35603" />
						<EnableBehavior Name="Combat" />

						<MoveTo X="516.2031" Y="-354.2806" Z="45.94658" />
						<MoveTo X="523.0122" Y="-309.9897" Z="60.57951" />

						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />
						<CustomBehavior File="RunMacro" Macro="/sw pause" />

						<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
						<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
						<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" />  

						<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
						<CustomBehavior File="MyCTM" X="523.33" Y="-299.5683" Z="68.36054" />
					    <CustomBehavior File="WaitTimer" WaitTime="15000" />
						<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
					    <MoveTo X="3766.764" Y="2059.474" Z="19.73799" />
					    <MoveTo X="3773.85" Y="2135.026" Z="32.66523" />
					</If>
					<!--Instance Coordnation Complete -->
				</While>
							<!-- Force town sell. -->
				<If Condition="(Me.FreeBagSlots &lt; 17)" >
					<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
					<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />
					<RunTo X="3732.481" Y="2124.925" Z="41.21062" />
					<RunTo X="3750.99" Y="2132.471" Z="46.86636" />
					<RunTo X="3746.578" Y="2151.833" Z="50.47399" />
					<RunTo X="3709.337" Y="2140.31" Z="55.26149" />
					
					<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
						<CustomBehavior File="WaitTimer" WaitTime="750" />
						<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
						<CustomBehavior File="WaitTimer" WaitTime="2000" />
							<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
						</If>

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<If Condition="Me.IsAlliance">
							<CustomBehavior File="FlyTo" X="3608.472" Y="2025.38" Z="167.7302" />
							<CustomBehavior File="FlyTo" X="3493.006" Y="2001.989" Z="65.05994" />
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
							<CustomBehavior File="RunMacro" Macro="/dismount" />
							<RunTo X="3514.716" Y="2000.593" Z="64.89097" />
							<SetVendor>
								<Vendors>
									<Vendor Name="Sentinel Amberline" Entry="27055" Type="Repair" X="3514.701" Y="1999.156" Z="64.8862" />
								</Vendors>
							</SetVendor>
							<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" DoTrain="False" /> <!-- Vendor + Repair -->
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
							<ClearVendor />
							<RunTo X="3476.981" Y="2004.02" Z="64.86568" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" /> <!-- Send Mail --> 
						</If>
						<If Condition="Me.IsHorde" >
							<CustomBehavior File="FlyTo" X="3608.472" Y="2025.38" Z="167.7302" />
							<CustomBehavior File="FlyTo" X="3608.472" Y="2025.38" Z="167.7302" />
							<CustomBehavior File="FlyTo" X="3845.488" Y="1572.724" Z="86.69903" />
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
							<CustomBehavior File="RunMacro" Macro="/dismount" />
							<SetVendor>
								<Vendor>
									<Vendor Name="Siegesmith Gulda" Entry="27019" Type="Repair" X="3845.488" Y="1572.724" Z="86.69914" />
								</Vendor>
							</SetVendor>
							<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" DoTrain="False" /> <!-- Vendor + Repair -->
							<ClearVendor />
							<RunTo X="3825.224" Y="1533.922" Z="89.72506" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" /> <!-- Send Mail -->
							<CustomBehavior File="WaitTimer" WaitTime="1000" />
							<CustomBehavior File="FlyTo" X="3766.959" Y="1540.819" Z="189.2775" />
						</If>

						<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
						<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
						<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
					</If>

				</If>
		</If>

		<If Condition="Chance(14.3)" > <!-- Utgarde Keep -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Randomizing dungeons...&quot;);" />
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Choosing Utgarde Keep.&quot;);" />
			<If Condition="Me.Location.Distance(new WoWPoint(1200.907, -4901.904, 41.24823)) &gt;= 170" >
				<CustomBehavior File="FlyTo" X="1058.342" Y="-4917.199" Z="40.53729" />
				<CustomBehavior File="MyCTM" X="1107.68" Y="-4901.972" Z="41.2485" />
				<CustomBehavior File="MyCTM" X="1161.246" Y="-4884.816" Z="41.2485" />
			</If>
			<While Condition="(Me.FreeBagSlots &gt;= 17)" >
				<!--Start Endless Cycle -->
				<If Condition="!(Me.MapId == 574)" >
					<MoveTo X="1215.008" Y="-4866.93" Z="41.24829" />
					<CustomBehavior File="MyCTM" X="1236.456" Y="-4859.878" Z="41.24817" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
					<!--Instance Navigation Start -->
				</If>
				<If Condition="(Me.MapId == 574)" >

					<CustomBehavior File="RunMacro" Macro="/sw clear" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: In-game timer started.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw play" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowLoadMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconRight = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowEngageMessage = GetMoney();" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />

					<MoveTo X="186.7376" Y="-75.69962" Z="16.87691" />

	
				    <DisableBehavior Name="Combat" />
						<RunTo X="211.3973" Y="-63.97879" Z="24.67863" />
						<RunTo X="256.3593" Y="-40.54176" Z="24.67863" />
						<RunTo X="269.1995" Y="-62.08339" Z="24.67863" />
					<EnableBehavior Name="Combat" />

	
				    <DisableBehavior Name="Combat" /> //
						<RunTo X="316.3462" Y="-36.62894" Z="22.75489" />
						<RunTo X="352.1555" Y="-39.64727" Z="24.67764" />
						<RunTo X="386.5623" Y="-11.83339" Z="24.48933" />
						<RunTo X="347.031" Y="4.550358" Z="24.63421" />
				    <EnableBehavior Name="Combat" />

					<MoveTo X="376.1462" Y="56.9547" Z="24.67728" />
					<MoveTo X="380.2594" Y="91.26851" Z="30.74202" />

	
				    <DisableBehavior Name="Combat" />
							<RunTo X="333.3249" Y="101.2789" Z="31.85162" />
							<RunTo X="395.1321" Y="154.4304" Z="30.77521" />
							<RunTo X="343.9766" Y="160.103" Z="30.7719" />
							<RunTo X="311.6241" Y="168.6147" Z="31.93963" />
					<EnableBehavior Name="Combat" />

	
				    <DisableBehavior Name="Combat" /> //
							<RunTo X="375.8603" Y="184.6561" Z="30.77577" />
							<RunTo X="336.756" Y="212.5732" Z="30.80466" />
							<RunTo X="325.302" Y="256.4638" Z="30.74519" />
							<RunTo X="303.5671" Y="246.6837" Z="30.74193" />
				    <EnableBehavior Name="Combat" />

					<MoveTo X="241.9964" Y="224.748" Z="40.9099" />
					<MoveTo X="221.3011" Y="201.247" Z="40.8164" />
	
					<MoveTo X="187.6204" Y="205.7753" Z="40.81636" /> <!-- Boss -->
					<MoveTo X="164.7505" Y="251.5552" Z="42.86683" />

	
				    <DisableBehavior Name="Combat" />
							<RunTo X="152.5092" Y="277.3574" Z="42.86846" />
							<RunTo X="130.3804" Y="275.3771" Z="42.86846" />
							<RunTo X="87.87313" Y="259.5667" Z="42.8671" />
							<RunTo X="99.67241" Y="200.5663" Z="49.3759" />
					<EnableBehavior Name="Combat" />

	
				    <DisableBehavior Name="Combat" /> //
							<RunTo X="66.38676" Y="186.1246" Z="49.37411" />
							<RunTo X="113.6451" Y="80.90563" Z="65.70265" />
							<RunTo X="133.3807" Y="77.24162" Z="65.70821" />
							<RunTo X="106.2656" Y="45.22725" Z="65.68821" />
				    <EnableBehavior Name="Combat" />

					<MoveTo X="103.1364" Y="59.01193" Z="65.70141" />

	
				    <DisableBehavior Name="Combat" />
							<RunTo X="93.53909" Y="108.0608" Z="87.33531" />
							<RunTo X="112.9307" Y="113.8913" Z="87.30109" />
							<RunTo X="102.4625" Y="46.53362" Z="109.0073" />
					<EnableBehavior Name="Combat" />

	
				    <DisableBehavior Name="Combat" /> //
							<RunTo X="24.52928" Y="22.2913" Z="115.0299" />
							<RunTo X="50.57508" Y="-9.289353" Z="118.7753" />
							<RunTo X="43.34703" Y="-32.25538" Z="118.7753" />
							<RunTo X="113.4088" Y="-38.0535" Z="118.9998" />
				    <EnableBehavior Name="Combat" />

				    <MoveTo  X="106.699" Y="-37.19381" Z="118.8866" /> <!-- Extra coordinate because bot didn't loot during testing -->
				    <CustomBehavior File="UserSettings" LootMobs="True"/>
				    <CustomBehavior File="WaitTimer" WaitTime="1500" />
					<MoveTo X="180.117" Y="-15.40531" Z="134.9601" />


					<!-- Different aggro method for the landing mob -->
	

				    <DisableBehavior Name="Combat" /> 
							<RunTo X="242.9421" Y="14.83746" Z="135.1886" />
							<RunTo X="216.0704" Y="7.687538" Z="178.5074" />
							<RunTo X="250.8247" Y="-11.3468" Z="178.5074" />
				    <EnableBehavior Name="Combat" />

					<DisableBehavior Name="Combat" /> //
						<MoveTo X="270.8568" Y="-108.3208" Z="190.3894" />
						<MoveTo X="248.751" Y="-157.2589" Z="190.4111" />
						<CustomBehavior File="WaitTimer" WaitTime="5000" />
						<MoveTo X="154.3276" Y="-178.3493" Z="180.5018" />
					<EnableBehavior Name="Combat" />

				    <MoveTo X="244.031" Y="-336.4045" Z="180.4473" /> <!-- Boss -->
				    <CustomBehavior File="WaitTimer" WaitTime="2000" />
				    <DisableBehavior Name="Combat" />
				    <CustomBehavior File="WaitTimer" WaitTime="26000" />
				    <EnableBehavior Name="Combat" />

					<!-- Leave coordinates -->
	
					<RunTo X="156.7793" Y="-171.9999" Z="180.5006"  />
				    <CustomBehavior File="MyCTM" X="138.1159" Y="-114.84" Z="88.37748" />
				    <CustomBehavior File="MyCTM" X="149.0161" Y="-147.3957" Z="94.20318" />
					<CustomBehavior File="MyCTM" X="150.1802" Y="-160.539" Z="7.517741" />
					<CustomBehavior File="MyCTM" X="186.7866" Y="-151.26" Z="10.72245" />
					<CustomBehavior File="MyCTM" X="182.8658" Y="-152.0624" Z="10.86669" />
					<RunTo X="160.7596" Y="-87.45521" Z="12.55195" />
					<!-- -->
					
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Instance completed, in-game timer paused.&quot;)" />
					<CustomBehavior File="RunMacro" Macro="/sw pause" />

					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowWipeMessage = math.floor(ShowPizzaMessage-ShowLoadMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="totalmoney = math.floor(ShowPizzaMessage-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
					<CustomBehavior File="Misc\RunLua" Lua="ShowPizzaMessage = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconChat = GetTime();" />
					<CustomBehavior File="Misc\RunLua" Lua="WarningIconLeft = math.floor(WarningIconChat-WarningIconRight)" /> 

					<If Condition="(Me.FreeBagSlots &lt; 17)" >
						<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Skipping wait since we're going to the vendor.&quot;);" />
						<Else>
							<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
						</Else>
					</If>
					<CustomBehavior File="MyCTM" X="146.4876" Y="-88.77183" Z="12.55122" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
					<!--Instance Coordnation Complete -->
				</If>
			</While>


			<If Condition="(Me.FreeBagSlots &lt; 17)" >
				<CustomBehavior File="Misc\RunLua" Lua="ShowRecoveryMessage = GetMoney();" />
				<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />
				<RunTo X="1099.184" Y="-4904.298" Z="41.2481" />

			<If Condition="Me.KnowsSpell(61425) || Me.KnowsSpell(61447) || Me.KnowsSpell(122708)" >
				<CustomBehavior File="WaitTimer" WaitTime="750" />
				<CustomBehavior File="RunMacro" Macro="/cast Тундровый мамонт путешественника\n/cast Traveler's Tundra Mammoth\n/cast Tundramammut des Reisenden\n/cast Großes Expeditionsyak\n/cast Большой як для путешествий\n/cast Grand Expedition Yak" />
				<CustomBehavior File="WaitTimer" WaitTime="2000" />
					<CustomBehavior File="ForceSetVendor" DoSell="true" DoRepair="true" />
				</If>

				<If Condition="(Me.FreeBagSlots &lt; 17)" >
					<CustomBehavior File="FlyTo" X="967.9332" Y="-4959.149" Z="117.8148" />
					<CustomBehavior File="FlyTo" DestName="Kamagua" X="736.4531" Y="-2919.483" Z="7.2804" />

					<SetVendor>
						<Vendors>
							<Vendor Name="Deniigi" Entry="27151" Type="Repair" X="801.2076" Y="-2948.573" Z="6.660583" />
						</Vendors>
					</SetVendor>
					<SetMailbox>
						<Mailboxes>
							<Mailbox X="737.4531" Y="-2920.483" Z="7.2804" />
						</Mailboxes>
					</SetMailbox>

					<CustomBehavior File="ForceSetVendor" DoMail="True" DoRepair="True" DoSell="True" />
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: Returning to Instance.&quot;);" />
					<ClearMailbox />
					<ClearVendor />
					<RunTo X="769.9571" Y="-2938.768" Z="7.330936" /> <!-- Pull away from possible stuckspots -->

					<CustomBehavior File="Misc\RunLua" Lua="AutoRespond = GetMoney();" />
					<CustomBehavior File="Misc\RunLua" Lua="WhisperStats = math.floor(AutoRespond-ShowRecoveryMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="vendortotalmoney = math.floor(AutoRespond-ShowKillMessage);" />
					<CustomBehavior File="Misc\RunLua" Lua="print(&quot;|cFF3399FF[Azyul]|r: Quick Stats!\nPicked up: &quot;, GetCoinTextureString(ShowWipeMessage), &quot;\nTotals:  &quot;, GetCoinTextureString(totalmoney))" />
				</If>
			</If>
		</If>

	</While>


</QuestOrder>
</HBProfile>