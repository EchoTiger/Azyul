<HBProfile creator="EchoTiger" version="1.0">
<Name>[ND] Stormrage Raiment (RC) [$Rev$]</Name>
	
	<MinLevel>60</MinLevel>
	<MaxLevel>101</MaxLevel>
   
	<MinDurability>0.001</MinDurability>
	<MinFreeBagSlots>1</MinFreeBagSlots>
	
	<MailGrey>False</MailGrey>
	<MailWhite>False</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>True</MailPurple>
   
	<SellGrey>True</SellGrey>
	<SellWhite>True</SellWhite>
	<SellGreen>True</SellGreen>
	<SellBlue>True</SellBlue>
	<SellPurple>False</SellPurple>
   
	<TargetElites>True</TargetElites>
	
	<AvoidMobs>
		<Mob Name="Summon Enabler Stalker" Entry="53488" />
    </AvoidMobs>

	<ProtectedItems>
		<Item Name="Moon-Crown Antlers" Entry="28220" />
		<Item Name="Lunar-Claw Pauldrons" Entry="28255" />
		<Item Name="Starry Robes of the Crescent" Entry="27818" />
		<Item Name="Moonrage Girdle" Entry="27783" />
		<Item Name="Moonstrider Boots" Entry="27914" />
		<Item Name="Grips of the Lunar Eclipse" Entry="28214" />
	</ProtectedItems>

	<QuestOrder>
		<CustomBehavior File="UserSettings" FindVendorsAutomatically="False" LootMobs="False" PullDistance="1" LogoutForInactivity="False" />
		<CustomBehavior File="Message" Text="STARTING NORMAL DROPS FARM" LogColor="Lime" />
		<CustomBehavior File="Message" Text="Make sure you've not finished your heroics for today!" LogColor="Lime" />
		<CustomBehavior File="RunMacro" Macro="/script SetCVar('AutoLootDefault', 1)" NumOfTimes="1" WaitTime="1000" />
<If Condition="Me.MapId != 530 &amp;&amp; !Me.IsInInstance" >
	<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Going to Outlands!&quot;);" />
	<If Condition="Me.IsAlliance" >
		<!-- /// Mage Logic /// -->
		<If Condition="SpellManager.CanCast(33690)" > <!-- Checks if we're a mage and spell is fully learnt+castable -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're a Mage! Teleporting to Shattrath.&quot;);" />
			<CustomBehavior File="ForcedDismount" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(33690);" WaitTime="500" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat || !Me.IsCasting" />
			</While>
		</If>
		<!-- /// Item Teleportation Logic.   Teleport to area that has portals (Shrine/etc) or teleport to destination /// -->
		<If Condition="Me.MapId != 530 &amp;&amp; ((Me.HearthstoneAreaId == 5148 || Me.HearthstoneAreaId == 6484 || Me.HearthstoneAreaId == 4395) &amp;&amp; ((HasItem(6948) &amp;&amp; !WoWSpell.FromId(8690).Cooldown) || SpellManager.CanCast(556) || (HasItem(64488) &amp;&amp; !WoWSpell.FromId(94719).Cooldown)))" > <!-- If we can Hearth/Recall to the Shrine or Dalaran -->
			<If Condition="HasItem(6948) &amp;&amp; !WoWSpell.FromId(8690).Cooldown" > <!-- Hearth -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster to reach our destination, attempting to Hearth!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="UseItemByName(6948)" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			<ElseIf Condition="SpellManager.CanCast(556)" > <!-- Astral Recall -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster, but our Hearthstone is on cooldown.  Attempting to Astrall Recall!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(556);" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			</ElseIf>
			<ElseIf Condition="HasItem(64488) &amp;&amp; !WoWSpell.FromId(94719).Cooldown" > <!-- Innkeeper's Daughter -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster, but our Hearthstone is on cooldown.  Attempting to Innkeeper's Daughter!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="UseItemByName(94719)" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			</ElseIf>
			</If>
		</If>
		<!-- /// Generic Logic /// -->
		<If Condition="Me.MapId == 870" > <!-- Pandaria -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Pandaria, using the Shrine portal to Outlands.&quot;);" />
			<If Condition="Me.ZoneId != 6553" > <!-- If not inside of Shrine building -->
				<CustomBehavior File="FlyTo" X="861.8756" Y="283.1115" Z="503.678" />
			</If>
			<RunTo X="794.5083" Y="184.9345" Z="519.6282" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="InteractWith" MobId="215120" X="792.5026" Y="186.9333" Z="519.9391" TerminateWhen="Me.MapId == 530" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 571" > <!-- Northerend -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Northerend, using the Dalaran portal to Stormwind.&quot;);" />
			<CustomBehavior File="FlyTo" X="5719.701" Y="722.6963" Z="641.6025" />
			<While Condition="Me.MapId != 0" >
				<CustomBehavior File="InteractWith" MobId="190960" X="5719.184" Y="719.6667" Z="641.7278" TerminateWhen="Me.MapId == 0" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 0 || Me.Combat" />
			</While>
		</If>
		<If Condition="!(Me.ZoneId == 3557 || Me.ZoneId == 3524 || Me.ZoneId == 6456 || Me.ZoneId == 3525)" > <!-- Instanced Draenei Zone, shares MapId with Outlands so we're using ZoneId -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're a in Azuyremyst Isle, using the Exodar portal to Outlands.&quot;);" />
			<RunTo X="-4049.003" Y="-11575.71" Z="-138.5305" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="InteractWith" MobId="195141" X="-4053.682" Y="-11575.2" Z="-138.5848" TerminateWhen="Me.MapId == 530" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 1" > <!-- Kalimdor -->
			<!-- <If Condition="" >  Southern Kalimdor, Ratchet to Booty Bay -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Kalimdor, using the Ratchet boat to Booty Bay.&quot;);" />
			<CustomBehavior File="FlyTo" X="-995.5635" Y="-3827.638" Z="5.630721" />
			<CustomBehavior File="UseTransport" TransportId="20808"
				WaitAtX="-996.8669" WaitAtY="-3826.07" WaitAtZ="5.536246" 
				TransportStartX="-1005.613" TransportStartY="-3841.648" TransportStartZ="0.01553879"
				StandOnX="-997.3311" StandOnY="-3836.707" StandOnZ="6.030852"
				TransportEndX="-14277.75" TransportEndY="582.8661" TransportEndZ="0.03330701"
				GetOffX="-14280.88" GetOffY="566.6268" GetOffZ="6.979454"
			/>
			<!-- <If Condition="" >  Northern Kalimdor, Rut'theran Village to Stormwind 
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Northern Kalimdor, using the Rut'theran Village boat to Stormwind.&quot;);" />
				May not use this.  Not sure if the OffMeshConnections will carry the bot to Rut'theran properly.
			</If> -->
		</If>
		<If Condition="Me.MapId == 646" > <!-- Deepholm -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Deepholm, using the portal for Stormwind.&quot;);" />
			<CustomBehavior File="FlyTo" X="968.8371" Y="573.3804" Z="-44.5801" />
			<While Condition="Me.MapId != 0" >
				<CustomBehavior File="InteractWith" MobId="205272" X="965.25" Y="577.229" Z="-44.2583" TerminateWhen="Me.MapId == 0" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 0 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 1116" > <!-- Draenor -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Draenor, using the Ashran portal to Stormwind.&quot;);" />
			<RunTo X="3732.467" Y="-4043.326" Z="44.81949" />
			<While Condition="Me.MapId != 0" >
				<CustomBehavior File="InteractWith" MobId="235883" X="3734.65" Y="-4042.976" Z="44.81873" TerminateWhen="Me.MapId == 0" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 0 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 0" > <!-- Eastern Kingdoms -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Eastern Kingdoms, using the Stormwind portal to Outlands.&quot;);" />
			<CustomBehavior File="FlyTo" X="-9000.305" Y="856.6206" Z="29.6206" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="InteractWith" MobId="195141" X="-9003.66" Y="855.3229" Z="29.62067" TerminateWhen="Me.MapId == 530" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat" />
			</While>
		</If>
	</If>

	<If Condition="Me.IsHorde" >
		<!-- /// Mage Logic /// -->
		<If Condition="SpellManager.CanCast(35715)" > <!-- Checks if we're a mage and spell is fully learnt+castable -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're a Mage! Teleporting to Shattrath.&quot;);" />
			<CustomBehavior File="ForcedDismount" />
			<While Condition="Me.MapId != 0" >
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(35715);" WaitTime="500" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat || !Me.IsCasting" />
			</While>
		</If>
		<!-- /// Item Teleportation Logic.   Teleport to area that has portals (Shrine/etc) or teleport to destination /// -->
		<If Condition="Me.MapId != 530 &amp;&amp; ((Me.HearthstoneAreaId == 6484 || Me.HearthstoneAreaId == 4395) &amp;&amp; ((HasItem(6948) &amp;&amp; !WoWSpell.FromId(8690).Cooldown) || SpellManager.CanCast(556) || (HasItem(64488) &amp;&amp; !WoWSpell.FromId(94719).Cooldown)))" > <!-- If we can Hearth/Recall to the Shrine or Dalaran -->
			<If Condition="HasItem(6948) &amp;&amp; !WoWSpell.FromId(8690).Cooldown" > <!-- Hearth -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster to reach our destination, attempting to Hearth!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="UseItemByName(6948)" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			<ElseIf Condition="SpellManager.CanCast(556)" > <!-- Astral Recall -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster, but our Hearthstone is on cooldown.  Attempting to Astrall Recall!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(556);" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			</ElseIf>
			<ElseIf Condition="HasItem(64488) &amp;&amp; !WoWSpell.FromId(94719).Cooldown" > <!-- Innkeeper's Daughter -->
				<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: Hearthing would be faster, but our Hearthstone is on cooldown.  Attempting to Innkeeper's Daughter!&quot;);" />
				<CustomBehavior File="ForcedDismount" />
				<While Condition="!(Me.MapId == 870 || Me.MapId == 571)" >
					<CustomBehavior File="Misc\RunLua" Lua="UseItemByName(94719)" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 870 || Me.MapId == 571 || Me.Combat || !Me.IsCasting" />
				</While>
			</ElseIf>
			</If>
		</If>
		<!-- /// Generic Logic /// -->
		<If Condition="Me.MapId == 870" > <!-- Pandaria -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Pandaria, using the Shrine portal to Shattrath.&quot;);" />
			<If Condition="Me.ZoneId != 6141" > <!-- If not inside of Shrine building -->
				<CustomBehavior File="FlyTo" X="1629.72" Y="924.5151" Z="471.1836" />
			</If>
			<RunTo X="1725.195" Y="875.6638" Z="487.0624" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="InteractWith" MobId="215113" X="1709.74" Y="899.3869" Z="487.0404" TerminateWhen="Me.MapId == 530" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 571" > <!-- Northerend -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Northerend, using the Dalaran portal to Orgrimmar.&quot;);" />
			<CustomBehavior File="FlyTo" X="5923.893" Y="589.9543" Z="639.8708" />
			<While Condition="Me.MapId != 1" >
				<CustomBehavior File="InteractWith" MobId="191009" X="5925.874" Y="593.1875" Z="640.5933" TerminateWhen="Me.MapId == 1" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 0" > <!-- Eastern Kingdoms, may want to spit this up for southern/northern Eastern Kingdoms (UC, BB) -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Eastern Kingdoms, using the Undercity Zeppelin to Kalimdor.&quot;);" />
			<CustomBehavior File="FlyTo" X="2060.415" Y="359.8524" Z="82.48592" />
			<CustomBehavior File="ForcedDismount" />
			<RunTo WaitAtX="2061.913" WaitAtY="365.0161" WaitAtZ="82.51536" />
			<CustomBehavior File="UseTransport" TransportId="181689"
				WaitAtX="2061.913" WaitAtY="365.0161" WaitAtZ="82.51536" 
				TransportStartX="2056.493" TransportStartY="381.6347" TransportStartZ="100.362" 
				StandOnX="2058.949" StandOnY="374.2945" StandOnZ="82.47006" 
				TransportEndX="1989.353" TransportEndY="-6082.776" TransportEndZ="85.59646" 
				GetOffX="1975.918" GetOffY="-6098.104" GetOffZ="67.14719" />
		</If>
		<!--<If Condition="Me.MapId == 530" >  Instanced Draenei Zone 
			Do we really need Horde support for this?
		</If> -->
		<If Condition="Me.MapId == 1116" > <!-- Draenor -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Draenor, using the Ashran portal to Orgrimmar.&quot;);" />
			<RunTo X="5266.4" Y="-4075.891" Z="21.13024" />
			<While Condition="Me.MapId != 1" >
				<CustomBehavior File="InteractWith" MobId="235880" X="5266.4" Y="-4075.891" Z="21.13024" TerminateWhen="Me.MapId == 1" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 646" > <!-- Deepholm -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Deepholm, using the portal for Orgrimmar.&quot;);" />
			<CustomBehavior File="FlyTo" X="991.8574" Y="458.2401" Z="-44.27066" />
			<While Condition="Me.MapId != 1" >
				<CustomBehavior File="InteractWith" MobId="205273" X="990.495" Y="454.457" Z="-44.2477" TerminateWhen="Me.MapId == 1" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 1 || Me.Combat" />
			</While>
		</If>
		<If Condition="Me.MapId == 1" > <!-- Kalimdor -->
			<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We're in Kalimdor, taking the Orgrimmar portal to Outlands.&quot;);" />
			<CustomBehavior File="FlyTo" X="1792.593" Y="-4277.689" Z="7.512893" />
			<While Condition="Me.MapId != 530" >
				<CustomBehavior File="InteractWith" MobId="195142" X="1791.696" Y="-4273.472" Z="7.674594" TerminateWhen="Me.MapId == 530" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="Me.MapId == 530 || Me.Combat" />
			</While>
		</If>
	</If>
	<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul Navigator]: We have reached Outlands!&quot;);" />
</If>
		<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1);" />

	<!-- Steamvaults, Belt -->
		<While Condition="!HasItem(27783)" >
			<CustomBehavior File="Message" Text="Going to The Steamvaults to get the Belt" LogColor="DarkBlue" />
			<If Condition="Me.Location.Distance(new WoWPoint(750.2504, 6885.597, -71.93677)) &gt;= 145" >
				<CustomBehavior File="Message" Text="Entering the Reservoir." LogColor="Lime" />
				<CustomBehavior File="FlyTo" X="564.1914" Y="6945.826" Z="21.38907" />
				<CustomBehavior File="ForcedDismount" />
				<CustomBehavior File="MyCTM" X="564.6312" Y="6944.052" Z="-14.92958" />
				<CustomBehavior File="MyCTM" X="575.9359" Y="6940.674" Z="-34.68961" />
				<CustomBehavior File="MyCTM" X="601.2563" Y="6917.888" Z="-44.63904" />
				<CustomBehavior File="MyCTM" X="610.3766" Y="6896.826" Z="-49.02293" />
				<CustomBehavior File="MyCTM" X="628.4286" Y="6878.431" Z="-71.7644" />
				<CustomBehavior File="MyCTM" X="642.2988" Y="6866.904" Z="-80.21622" />
				<CustomBehavior File="MyCTM" X="653.4153" Y="6866.58" Z="-80.35545" />
				<CustomBehavior File="MyCTM" X="729.3627" Y="6865.68" Z="-71.51466" />
				<RunTo X="738.3709" Y="6864.751" Z="-69.2543" /> <!-- Center of reservoir - internal -->
			</If>


			<If Condition="!(Me.MapId == 545)" >
				<If Condition="Me.Location.Distance(new WoWPoint(818.7408, 6940.374, -80.54651)) &gt;= 40.5" >
					<CustomBehavior File="UserSettings" FindVendorsAutomatically="False" LootMobs="True" PullDistance="30" LogoutForInactivity="False" />
					<CustomBehavior File="Message" Text="Moving to The Instance." LogColor="Lime" />
					<RunTo X="818.2902" Y="6940.515" Z="-80.59582" />
				</If>
			</If>
			<If Condition="(Me.FreeBagSlots &gt;= 11)" >
				<If Condition="!(Me.MapId == 546)" >
					<RunTo X="818.3602" Y="6944.097" Z="-80.6101" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
					<CustomBehavior File="Message" Text="Entering Steamvaults." LogColor="Lime" />
					<CustomBehavior File="MyCTM" X="818.3083" Y="6949.203" Z="-80.61127" />
					<CustomBehavior File="WaitTimer" WaitTime="5500" />
					<While Condition="!(StyxWoW.IsInWorld)" >
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
					</While>
				</If>
				<!-- Begin Instance Grind -->
				<If Condition="(Me.MapId == 545)" >
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					<CustomBehavior File="UserSettings" LootMobs="false" />

					<!-- We're not running big pulls due to the NPC's rooting effects. -->

					<RunTo X="-4.927965" Y="-41.4993" Z="-13.38089" />

					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="19.68694" Y="-154.7329" Z="-22.5016" />
					</CustomBehavior>

					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="3.807139" Y="-252.5113" Z="-22.41646" />
					</CustomBehavior>

					<RunTo X="21.64385" Y="-278.752" Z="-20.7142" />
					<RunTo X="52.33093" Y="-310.0943" Z="-7.909786" /> <!-- Potential patroll pull -->			
					<RunTo X="93.55686" Y="-316.1818" Z="-7.870862" /> <!-- Hydromancer Thespia -->
					<CustomBehavior File="UserSettings" LootMobs="true" />
					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<CustomBehavior File="UserSettings" LootMobs="false" />
					<RunTo X="44.39193" Y="-304.8427" Z="-8.965962" />
	
					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="-9.883199" Y="-27.15646" Z="-8.602267" /> <!-- Long run back to entrance -->
					</CustomBehavior>

					<RunTo X="-18.25499" Y="4.630092" Z="-4.275887" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
					<CustomBehavior File="MyCTM" X="-24.65424" Y="4.902905" Z="-4.296989" />
					<CustomBehavior File="WaitTimer" WaitTime="5500" />
					<While Condition="!(StyxWoW.IsInWorld)" >
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
					</While>
				</If>
				<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
			</If>
			<!-- End Instance Grind -->
			
			<!-- Vendor routine -->
			<If Condition="(Me.FreeBagSlots &lt;= 10)" >
				<CustomBehavior File="Message" Text="Moving to Sell, Repair, Mail" LogColor="Lime" />

				<If Condition="Me.GetReputationLevelWith(942) &gt;= Styx.WoWUnitReaction.Exalted" >
					<RunTo X="746.1917" Y="6882.73" Z="-64.28456" />
					<SetVendor>
						<Vendors>
							<Vendor Name="Mortog Steamhead" Entry="23373" Type="Repair" X="748.8289" Y="6883.973" Z="-63.92867" />
						</Vendors>
					</SetVendor>
					<CustomBehavior File="WaitTimer" WaitTime="1500" />
					<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
					<ClearVendor />
					<If Condition="(Me.FreeBagSlots &lt;= 10)" >  <!-- Go to normal vendor routine if the player needs to mail -->
						<RunTo X="738.3709" Y="6864.751" Z="-69.2543" /> <!-- Center of reservoir - internal -->
						<CustomBehavior File="MyCTM" X="729.3627" Y="6865.68" Z="-71.51466" />
						<CustomBehavior File="MyCTM" X="653.4153" Y="6866.58" Z="-80.35545" />
						<CustomBehavior File="MyCTM" X="642.2988" Y="6866.904" Z="-80.21622" />
						<CustomBehavior File="MyCTM" X="628.4286" Y="6878.431" Z="-71.7644" />
						<CustomBehavior File="MyCTM" X="610.3766" Y="6896.826" Z="-49.02293" />
						<CustomBehavior File="MyCTM" X="601.2563" Y="6917.888" Z="-44.63904" />
						<CustomBehavior File="MyCTM" X="575.9359" Y="6940.674" Z="-34.68961" />
						<CustomBehavior File="MyCTM" X="564.6312" Y="6944.052" Z="-14.92958" />
						<CustomBehavior File="MyCTM" X="541.8995" Y="6924.533" Z="21.45897" />
						<CustomBehavior File="FlyTo" X="530.1228" Y="6855.305" Z="40.78453" />
						<If Condition="Me.Alliance" >
							<CustomBehavior File="FlyTo" X="990.9942" Y="7383.501" Z="42.69455" />

							<RunTo X="1028.695" Y="7362.311" Z="36.40272" />
							<SetMailbox>
								<Mailboxes>
									<Mailbox X="1029.868" Y="7362.129" Z="36.40354" />
								</Mailboxes>
							</SetMailbox>
							<CustomBehavior File="WaitTimer" WaitTime="1500" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
							<ClearMailbox />
						</If>

						<If Condition="Me.Horde" >
							<CustomBehavior File="FlyTo" X="250.5531" Y="7803.317" Z="48.83578" />
							<CustomBehavior File="FlyTo" X="269.6143" Y="7862.054" Z="30.88758" />
							<CustomBehavior File="ForcedDismount" />
							<RunTo X="259.7481" Y="7869.413" Z="23.19135" />
							<SetMailbox>
								<Mailboxes>
									<Mailbox X="258.9098" Y="7870.717" Z="23.01399" />
								</Mailboxes>
							</SetMailbox>
							<CustomBehavior File="WaitTimer" WaitTime="1500" />
							<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
							<ClearMailbox />
						</If>
					</If>
				</If>

				<If Condition="Me.Location.Distance(new WoWPoint(750.2504, 6885.597, -71.93677)) &lt;= 144 &amp;&amp; Me.GetReputationLevelWith(942) &lt; Styx.WoWUnitReaction.Exalted &amp;&amp; Me.FreeBagSlots &lt;= 10" >
					<RunTo X="738.3709" Y="6864.751" Z="-69.2543" /> <!-- Center of reservoir - internal -->
					<CustomBehavior File="MyCTM" X="729.3627" Y="6865.68" Z="-71.51466" />
					<CustomBehavior File="MyCTM" X="653.4153" Y="6866.58" Z="-80.35545" />
					<CustomBehavior File="MyCTM" X="642.2988" Y="6866.904" Z="-80.21622" />
					<CustomBehavior File="MyCTM" X="628.4286" Y="6878.431" Z="-71.7644" />
					<CustomBehavior File="MyCTM" X="610.3766" Y="6896.826" Z="-49.02293" />
					<CustomBehavior File="MyCTM" X="601.2563" Y="6917.888" Z="-44.63904" />
					<CustomBehavior File="MyCTM" X="575.9359" Y="6940.674" Z="-34.68961" />
					<CustomBehavior File="MyCTM" X="564.6312" Y="6944.052" Z="-14.92958" />
					<CustomBehavior File="MyCTM" X="541.8995" Y="6924.533" Z="21.45897" />
					<CustomBehavior File="FlyTo" X="530.1228" Y="6855.305" Z="40.78453" />

					<If Condition="Me.IsAlliance" >
						<CustomBehavior File="FlyTo" X="990.9942" Y="7383.501" Z="42.69455" />
						<If Condition="(Me.FreeBagSlots &lt;= 10)" >
							<CustomBehavior File="FlyTo" X="1019.702" Y="7383.811" Z="36.24001" />
							<CustomBehavior File="ForcedDismount" />
							<SetVendor>
								<Vendors>
									<Vendor Name="Maktu" Entry="18010" Type="Repair" X="1020.835" Y="7383.452" Z="36.24143" />
								</Vendors>
							</SetVendor>
							<CustomBehavior File="WaitTimer" WaitTime="1500" />
							<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
							<ClearVendor />
						</If>

						<RunTo X="1028.695" Y="7362.311" Z="36.40272" />
						<SetMailbox>
							<Mailboxes>
								<Mailbox X="1029.868" Y="7362.129" Z="36.40354" />
							</Mailboxes>
						</SetMailbox>
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
						<ClearMailbox />
					</If>

					<If Condition="Me.IsHorde" >
						<CustomBehavior File="FlyTo" X="250.5531" Y="7803.317" Z="48.83578" />
						<If Condition="(Me.FreeBagSlots &lt;= 10)" >
							<CustomBehavior File="FlyTo" X="319.7794" Y="7840.998" Z="24.84016" />
							<CustomBehavior File="ForcedDismount" />
							<SetVendor>
								<Vendors>
									<Vendor Name="Captured Gnome" Entry="19383" Type="Repair" X="323.0882" Y="7839.829" Z="22.08481" />
								</Vendors>
							</SetVendor>
							<CustomBehavior File="WaitTimer" WaitTime="1500" />
							<CustomBehavior File="ForceSetVendor" DoMail="False" DoSell="True" DoRepair="True" />
							<ClearVendor />
						</If>
						<CustomBehavior File="FlyTo" X="269.6143" Y="7862.054" Z="30.88758" />
						<CustomBehavior File="ForcedDismount" />
						<RunTo X="259.7481" Y="7869.413" Z="23.19135" />
						<SetMailbox>
							<Mailboxes>
								<Mailbox X="258.9098" Y="7870.717" Z="23.01399" />
							</Mailboxes>
						</SetMailbox>
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="False" DoRepair="False" />
						<ClearMailbox />
					</If>
				</If>
			</If>
			<!-- End vendor routine -->
		</While>
		<If Condition="Me.Location.Distance(new WoWPoint(750.2504, 6885.597, -71.93677)) &lt;= 144" > <!-- Leave Reservior -->
			<CustomBehavior File="Message" Text="Leaving the Reservior." LogColor="LightBlue" />
			<RunTo X="738.3709" Y="6864.751" Z="-69.2543" /> <!-- Center of reservoir - internal -->
			<CustomBehavior File="MyCTM" X="729.3627" Y="6865.68" Z="-71.51466" />
			<CustomBehavior File="MyCTM" X="653.4153" Y="6866.58" Z="-80.35545" />
			<CustomBehavior File="MyCTM" X="642.2988" Y="6866.904" Z="-80.21622" />
			<CustomBehavior File="MyCTM" X="628.4286" Y="6878.431" Z="-71.7644" />
			<CustomBehavior File="MyCTM" X="610.3766" Y="6896.826" Z="-49.02293" />
			<CustomBehavior File="MyCTM" X="601.2563" Y="6917.888" Z="-44.63904" />
			<CustomBehavior File="MyCTM" X="575.9359" Y="6940.674" Z="-34.68961" />
			<CustomBehavior File="MyCTM" X="564.6312" Y="6944.052" Z="-14.92958" />
			<CustomBehavior File="MyCTM" X="541.8995" Y="6924.533" Z="21.45897" />
			<CustomBehavior File="FlyTo" X="530.1228" Y="6855.305" Z="40.78453" />
		</If>

	<!--Sethekk Halls, Boots-->
		<While Condition="!HasItem(27914)" >
			<CustomBehavior File="Message" Text="Going to Ring of Observance to get the Boots" LogColor="DarkBlue" />
			<If Condition="(Me.FreeBagSlots &gt;= 11)" >
				<If Condition="!(Me.MapId == 556)" >
					<If Condition="Me.Location.Distance(new WoWPoint(-3392.553, 4960.243, 8.39039)) &gt;= 331.2615" > <!-- Universal Nav-to -->
						<CustomBehavior File="FlyTo" X="-3385.121" Y="4941.416" Z="-54.78403" />  <!-- Mid-Hub -->
						<CustomBehavior File="FlyTo" X="-3363.273" Y="4831.82" Z="-88.0773" />
						<CustomBehavior File="MyCTM" X="-3362.285" Y="4669.835" Z="-101.0491" />
					</If>

					<If Condition="Me.Location.Distance(new WoWPoint(-3361.789, 4704.56, -101.2225)) &gt;= 47" > <!-- Outside of pre-instance -->
						<MoveTo Nav="Fly" X="-3362.458" Y="4756.291" Z="-101.3952" />
						<CustomBehavior File="MyCTM" X="-3362.285" Y="4669.835" Z="-101.0491" />
					</If>
				</If>
			</If>

			<If Condition="(Me.FreeBagSlots &gt;= 11)" >
				<If Condition="!(Me.MapId == 556)" >
					<RunTo X="-3361.777" Y="4658.397" Z="-101.048" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
					<CustomBehavior File="Message" Text="Entering Sethekk Halls." LogColor="Lime" />
					<CustomBehavior File="MyCTM" X="-3361.715" Y="4652.886" Z="-101.048" />
					<CustomBehavior File="WaitTimer" WaitTime="5500" />
					<While Condition="!(StyxWoW.IsInWorld)" >
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
					</While>
				</If>
				<!-- Begin Instance Grind -->
				<If Condition="(Me.MapId == 556)" >
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					<CustomBehavior File="UserSettings" LootMobs="false" />


					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="-4.224625" Y="99.62385" Z="0.007196213" />
					</CustomBehavior>


					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="-74.59031" Y="86.34686" Z="0.005770877" />
					</CustomBehavior>


					<CustomBehavior File="RunLikeHell" AllowCombat="false" NumOfTimes="1">
						<Hotspot X="-75.30521" Y="174.733" Z="0.009280387" />
						<Hotspot X="-102.9638" Y="177.3365" Z="0.009330166" />
						<Hotspot X="-145.6521" Y="173.7392" Z="1.684951" /> // Darkweaver Syth
					</CustomBehavior>
					<CustomBehavior File="UserSettings" LootMobs="true" />
					<RunTo X="-102.9638" Y="177.3365" Z="0.009330166" />
					<CustomBehavior File="UserSettings" LootMobs="false" />

					<CustomBehavior File="WaitTimer" WaitTime="500" />
					<RunTo X="2.589283" Y="0.3863665" Z="0.005763793" /> //Before instance


					<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
					<CustomBehavior File="MyCTM" X="-8.710955" Y="-0.1144782" Z="0.005999689" />
					<CustomBehavior File="WaitTimer" WaitTime="5500" />
					<While Condition="!(StyxWoW.IsInWorld)" >
						<CustomBehavior File="WaitTimer" WaitTime="1000" />
					</While>
				</If>
				<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
			</If>
			<!-- End Instance Grind -->
			<If Condition="HasItem(27914)" >
				<CustomBehavior File="MyCTM" X="-3361.962" Y="4752.981" Z="-101.3954" />
			</If>
			<!-- Vendor Routine -->
			<If Condition="(Me.FreeBagSlots &lt;= 10)" >
				<CustomBehavior File="Message" Text="Moving to Sell, Repair, Mail" LogColor="Lime" />
				<CustomBehavior File="MyCTM" X="-3361.962" Y="4752.981" Z="-101.3954" />

				<!-- Bot ignores this vendor.
						<MoveTo Nav="Fly" X="-3521.181" Y="4939.856" Z="-101.3959" />
						<SetVendor>
							<Vendors>
								<Vendor Name="Provisioner Tsaalt" Entry="19718" Type="Food" X="-3523.476" Y="4937.63" Z="-101.3944" />
							</Vendors>
						</SetVendor>
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<CustomBehavior File="ForceSetVendor" DoSell="True" />
						<RunTo X="-3528.487" Y="4943.76" Z="-101.396" />
						<ClearVendor /> -->  


					<If Condition="Me.IsAlliance" >
						<MoveTo Nav="Fly" X="-2944.846" Y="4009.452" Z="5.567399" />
						<CustomBehavior File="ForcedDismount" />
						<MoveTo Nav="Run" X="-2933.421" Y="4009.331" Z="-1.294724" />
						<SetMailbox>
							<Mailboxes>
								<Mailbox X="-2929.392" Y="4008.916" Z="-1.389165" />
							</Mailboxes>
						</SetMailbox>
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="True" DoRepair="True" />
						<MoveTo Nav="Run" X="-2936.408" Y="4010.14" Z="-1.248712" />
						<ClearMailbox />
					</If>
					<If Condition="Me.IsHorde" >
						<MoveTo Nav="Fly" X="-2620.939" Y="4409.075" Z="49.22842" />
						<CustomBehavior File="ForcedDismount" />
						<MoveTo Nav="Run" X="-2616.162" Y="4417.126" Z="36.2312" />
						<SetMailbox>
							<Mailboxes>
								<Mailbox X="-2615.288" Y="4417.971" Z="35.98839" />
							</Mailboxes>
						</SetMailbox>
						<CustomBehavior File="WaitTimer" WaitTime="1500" />
						<CustomBehavior File="ForceSetVendor" DoMail="True" DoSell="True" DoRepair="True" />
						<MoveTo Nav="Run" X="-2616.162" Y="4417.126" Z="36.2312" />
						<ClearMailbox />
					</If>
			</If>
			<!-- End Vendor Routine -->
		</While>

	<!-- Shoulder -->
		<While Condition="!HasItem(28255)">
			<CustomBehavior File="Message" Text="Going to Tempest Keep to get the Shoulder." LogColor="DarkBlue" />
			<If Condition="!(Me.ZoneId == 3523)" >
				<CustomBehavior File="FlyTo" X="589.3289" Y="3427.308" Z="291.0131" />
				<CustomBehavior File="MyCTM" X="2945.934" Y="1784.823" Z="206.9143" />
			</If>
			<If Condition="!(Me.MapId == 552)" >
				<If Condition="Me.Location.Distance(new WoWPoint(2868.389, 1551.293, 252.1595)) &gt;= 55" >	
					<CustomBehavior File="FlyTo" X="3024.063" Y="1728.797" Z="239.4702" />
					<CustomBehavior File="MyCTM" X="2952.151" Y="1627.577" Z="264.385" />
					<CustomBehavior File="MyCTM" X="2877.254" Y="1559.525" Z="248.8978" />
					<CustomBehavior File="ForcedDismount" />
				</If>
			</If>
			<If Condition="(Me.FreeBagSlots &gt;= 10)" >
				<If Condition="!(Me.MapId == 554)" >
					<MoveTo X="2872.403" Y="1555.394" Z="252.1594" />
					<CustomBehavior File="MyCTM" X="2860.746" Y="1544.512" Z="252.1594" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
				</If>
				<!--Instance Navigation Start -->
				<If Condition="(Me.MapId == 554)" >
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />

					<DisableBehavior Name="Combat" />
						<RunTo X="112.4377" Y="-78.69029" Z="14.92755" />
					<EnableBehavior Name="Combat" />

					<CustomBehavior File="WaitTimer" WaitTime="500" />

					<DisableBehavior Name="Combat" />
						<RunTo X="222.1569" Y="-57.52505" Z="0.0007092925" />
					<EnableBehavior Name="Combat" /> <!-- Due to Mechano-Lord's stun, we have to seperate this and the next group because Honorbuddy will bug out when it's stunned... -->

					<CustomBehavior File="WaitTimer" WaitTime="500" />

					<CustomBehavior File="UserSettings" LootMobs="true" />
					<CustomBehavior File="InteractWith" MobId="19219" ObjectType="Npc" Range="1" X="208.7709" Y="-12.25523" Z="-2.191832" /> <!-- Pull Mechano-Lord Capacitus -->
					<RunTo X="222.1569" Y="-57.52505" Z="0.0007092925" />
					<CustomBehavior File="UserSettings" LootMobs="false" />
					<RunTo X="-27.85911" Y="0.642262" Z="-1.8124" />

					<CustomBehavior File="Misc\InstanceTimer" Timer="Check" WaitTime="369000" />
					<CustomBehavior File="MyCTM" X="-39.77523" Y="-0.3285326" Z="-1.8124" />
					<CustomBehavior File="WaitTimer" WaitTime="15000" />
					<CustomBehavior File="Misc\RunLua" Lua="
						local item,l,i=&quot;32902&quot; for b=0,4 do for s=1,GetContainerNumSlots(b)do l=GetContainerItemLink(b,s)i=l and l:match(&quot;item:(%d+)&quot;)if i==item then PickupContainerItem(b,s)DeleteCursorItem()end end end
						local item,l,i=&quot;32905&quot; for b=0,4 do for s=1,GetContainerNumSlots(b)do l=GetContainerItemLink(b,s)i=l and l:match(&quot;item:(%d+)&quot;)if i==item then PickupContainerItem(b,s)DeleteCursorItem()end end end" />
					<CustomBehavior File="Message" Text="Deleting all Bottled Nethergon potions." LogColor="Azure" />
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" /> 
				</If>
				<!--Instance Coordnation Complete -->
			</If>

			<!-- Vendor Routine -->
			<If Condition="(Me.FreeBagSlots &lt;= 10)" >
				<CustomBehavior File="Message" Text="Moving to Sell, Repair" LogColor="Lime" />
				<CustomBehavior File="ForcedMount" MountType="Flying" />
				<CustomBehavior File="ForceSetVendor" DoSell="True" DoRepair="True" DoMail="False" />
				<CustomBehavior File="WaitTimer" WaitTime="1000" />
				<If Condition="(Me.FreeBagSlots &lt;= 10)" > <!-- Mail if player still has 10 or less slots -->
					<CustomBehavior File="Message" Text="Moving to Mail" LogColor="Lime" />
					<SetMailbox>
						<Mailboxes>
								<Mailbox Nav="Fly" X="3056.502" Y="3687.034" Z="142.7493" />
						</Mailboxes>
					</SetMailbox>
					<CustomBehavior File="ForceSetVendor" DoSell="False" DoRepair="False" DoMail="True" />
					<MoveTo Nav="Fly" X="3056.502" Y="3687.034" Z="142.7493" />
					<ClearMailbox />
				</If>
			</If>
		</While>


		<If Condition="HasItem(28255) &amp;&amp; HasItem(27783) &amp;&amp; HasItem(27914)" >
			<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="1" Text="All normal difficulty items have been obtained!\nIf you still require some of the heroic items, you can re-run the [HD] profile inside of the Scripts folder.\n Or, you can just run the Auto-Loader profile outside of the script folder." />
		</If>
		<If Condition="!HasItem(28214) || !HasItem(28220)" >
			<CustomBehavior File="UserDialog" AllowBotStop="True" SoundCue="Exclamation" SoundCueInterval="1" Text="Two items have not been farmed: Moon-Crown Antlers  and Grips of the Lunar Eclipse.\n\nThe instances that these items drop in require further script.  You must farm them on your own until I can obtain a custom script for these instances." />
		</If>
	</QuestOrder>
</HBProfile>